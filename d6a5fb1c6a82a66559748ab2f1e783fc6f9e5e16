{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2f71d8d1_e62f3f0e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1299283
      },
      "writtenOn": "2021-07-19T22:53:36Z",
      "side": 1,
      "message": "There might be a way of writing a more specific policy, but this seems to have resolved the test failures I was seeing on the other CL.",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92fa26ac_9b9c9d78",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-07-19T23:02:21Z",
      "side": 1,
      "message": "Maybe put this in private/shell.te instead?",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6dff4030_8e63bb2f",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 49,
      "author": {
        "id": 1299283
      },
      "writtenOn": "2021-07-20T14:08:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92fa26ac_9b9c9d78",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b673716_511ebd6f",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-07-19T23:02:21Z",
      "side": 1,
      "message": "What are the exact permissions you need?  It looks like it already has some (e.g., read and execute).",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e27f44c_195f1b9a",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1299283
      },
      "writtenOn": "2021-07-20T13:18:18Z",
      "side": 1,
      "message": "setattr is needed at the moment for chmod 500, but that can probably be dropped. I added it when I first saw a permissions error.\n\nThe open syscall is what failed initially. Oddly, I was able to create and write to the memfd, but when I call fexecve it looks like libc calls open which is what triggers the SELinux violation.",
      "parentUuid": "2b673716_511ebd6f",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53546bf6_d86bd271",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-07-20T14:26:01Z",
      "side": 1,
      "message": "https://cs.android.com/android/platform/superproject/+/master:system/sepolicy/private/shell.te;l\u003d22\nhttps://cs.android.com/android/platform/superproject/+/master:system/sepolicy/public/te_macros;l\u003d189\n\nIt\u0027s not granted open, but it\u0027s already granted a few other interesting operations.  Maybe add only the ones you need just to be clear?  You can also add setattr if you need it, although if not that\u0027s of course fine.",
      "parentUuid": "0e27f44c_195f1b9a",
      "revId": "d6a5fb1c6a82a66559748ab2f1e783fc6f9e5e16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}