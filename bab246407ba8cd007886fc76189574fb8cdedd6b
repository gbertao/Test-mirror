{
  "comments": [
    {
      "key": {
        "uuid": "a41ba0a9_59062402",
        "filename": "private/logd.te",
        "patchSetId": 30
      },
      "lineNbr": 8,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T01:31:07Z",
      "side": 1,
      "message": "Nick, which .te files should these neverallow rules go? I see that we mostly places them in the file corresponding to the first parameter (e.g., this one would stay in logd.te but the ones below would go to domain.te and app.te).",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03303b71_30963316",
        "filename": "private/platform_app.te",
        "patchSetId": 30
      },
      "lineNbr": 63,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T01:31:07Z",
      "side": 1,
      "message": "I thought this was about tags, not about events buffer. Same comment for other places this comment is used.",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b85850ab_06361cf5",
        "filename": "private/platform_app.te",
        "patchSetId": 30
      },
      "lineNbr": 63,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2017-01-27T18:05:30Z",
      "side": 1,
      "message": "The name is now descriptive enough to not require comment ...",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "974a2bbd_57cf9ef1",
        "filename": "private/platform_app.te",
        "patchSetId": 30
      },
      "lineNbr": 63,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T18:13:39Z",
      "side": 1,
      "message": "Agreed. Thank you!",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0cbefd9b_047d5259",
        "filename": "private/zygote.te",
        "patchSetId": 30
      },
      "lineNbr": 7,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T01:31:07Z",
      "side": 1,
      "message": "Why does Zygote need to read the mapping? If zygote can read something before it spawns apps, the data will be available to all apps (incl. untrusted_app). Thus, unless special care is taken inside zygote, any such access is suspect/dangerous.\n\nIf special care is taken not to leak this into spawned apps, what is it?",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "826fe7af_6ae5480d",
        "filename": "private/zygote.te",
        "patchSetId": 30
      },
      "lineNbr": 7,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2017-01-27T18:05:30Z",
      "side": 1,
      "message": "Because zygote composes events (and thus will need to access the runtime registrations).\n\nOne of the sources of this access is the isLoggable operations which need to be as fast as possible. The mapping is unmap\u0027d (the file descriptor is already closed) when the log is closed as part of the transition to the applications.\n\nIf it isn\u0027t, then that is a bug in __android_log_close() which contains:\n\nif (m !\u003d (EventTagMap *)(uintptr_t)-1LL) android_closeEventTagMap(m);\n\nHowever, in the future when (and if) zygote also registers runtime event tags, they will also need to close the mapping associated with that operation that they used to generate the tags before fork\u0027ing/exec\u0027ing/whatever",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45c33585_47f8cdb9",
        "filename": "private/zygote.te",
        "patchSetId": 30
      },
      "lineNbr": 7,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T18:13:39Z",
      "side": 1,
      "message": "OK.",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b82370f9_862ddc44",
        "filename": "public/file.te",
        "patchSetId": 30
      },
      "lineNbr": 79,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T01:31:07Z",
      "side": 1,
      "message": "Please add a description of this type. Given that it\u0027s declared in the public directory, vendor / device-specific policy is permitted to reference this type and thus it\u0027s best to document what this is.\n\nFor example:\n# Runtime event log tag mappings file\ntype ...",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21a44b9e_df61835a",
        "filename": "public/file.te",
        "patchSetId": 30
      },
      "lineNbr": 79,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2017-01-27T18:05:30Z",
      "side": 1,
      "message": "Or do we make this private?",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d55f99f_ff148c10",
        "filename": "public/file.te",
        "patchSetId": 30
      },
      "lineNbr": 79,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T18:13:39Z",
      "side": 1,
      "message": "Not yet. It should stay public for now.\n\nI\u0027m in the process of moving as much as possible out of public into private. I\u0027ll see if this can be moved. At the moment, it can\u0027t because the read_ macro you introduced is public and that macro expands to an allow rule which references this tag. Thus, you\u0027d need to hide the macro as well. Even if we did, it\u0027s unclear whether dynamic tags should be available to vendor-created SELinux domains (e.g., their device-specific services). If they should be, then we need to provide some public type/attribute through which access it granted.",
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7195802_0058e780",
        "filename": "public/te_macros",
        "patchSetId": 30
      },
      "lineNbr": 349,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-01-27T01:31:07Z",
      "side": 1,
      "message": "I thought this was about event tags mappings, not the actual events.",
      "range": {
        "startLine": 349,
        "startChar": 38,
        "endLine": 349,
        "endChar": 44
      },
      "revId": "bab246407ba8cd007886fc76189574fb8cdedd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}