{
  "comments": [
    {
      "key": {
        "uuid": "2fdfaabd_702c1403",
        "filename": "private/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2019-09-03T11:10:36Z",
      "side": 1,
      "message": "is this actually necessary, or is there just an overly permissive \"allow\" rule that is triggering this neverallow?",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 20,
        "endChar": 14
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46ed8bf5_2d64c6c7",
        "filename": "private/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1103203
      },
      "writtenOn": "2019-09-03T12:44:21Z",
      "side": 1,
      "message": "I suspect it\u0027s an overbroad allow rule somewhere but I couldn\u0027t figure out where it\u0027s coming from.\n\nI commented on this on patchset 5, line 12, with additional detail. Mind weighing in there?\n\nResolving this comment thread, let\u0027s continue on the other one.",
      "parentUuid": "2fdfaabd_702c1403",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 20,
        "endChar": 14
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81f15cb4_b0953d5a",
        "filename": "public/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2019-09-03T11:10:36Z",
      "side": 1,
      "message": "Is there any reason why this is in public policy instead of private? It\u0027s much better to keep everything in private if possible because then we know that vendor policy is not allowed to customize it.",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 33
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd6e831b_a1544005",
        "filename": "public/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1103203
      },
      "writtenOn": "2019-09-04T04:03:08Z",
      "side": 1,
      "message": "I was being consistent with existing examples.\n\nIn public/, we have:\n\ntype charger, domain;\ntype crash_dump, domain;\ntype dhcp, domain;\ntype fingerprintd, domain;\ntype gatekeeperd, domain;\ntype keystore, domain;\ntype mediaswcodec, domain;\ntype modprobe, domain;\ntype netutils_wrapper, domain;\ntype runas_app, domain;\ntype sdcardd, domain;\ntype traceur_app, domain;\ntype usbd, domain;\ntype vendor_shell, domain;\ntype virtual_touchpad, domain;\ntype vr_hwc, domain;\ntype wpantund, domain;\n\nIn private/, we only have:\n\ntype stats, domain;\n\nIs that a good enough reason?",
      "parentUuid": "81f15cb4_b0953d5a",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 33
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb6adbd6_6704f04b",
        "filename": "public/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2019-09-04T07:28:49Z",
      "side": 1,
      "message": "Not a good reason. Those domains are all in public because they interact across the Treble boundary. Putting types in public increases our long term maintenance costs and prevents us from making even minor changes because we have to maintain a stable interface across multiple releases.\n\nMany more domain types are declared in private policy:\n\nprivate/gsid.te:type gsid, domain;\nprivate/stats.te:type stats, domain;\nprivate/otapreopt_chroot.te:type otapreopt_chroot, domain, coredomain;\nprivate/system_suspend.te:type system_suspend, domain, coredomain, system_suspend_server;\nprivate/dexoptanalyzer.te:type dexoptanalyzer, domain, coredomain, mlstrustedsubject;\nprivate/viewcompiler.te:type viewcompiler, domain, coredomain, mlstrustedsubject;\nprivate/auditctl.te:type auditctl, domain, coredomain;\nprivate/dex2oat.te:type dex2oat, domain, coredomain;\nprivate/fsverity_init.te:type fsverity_init, domain, coredomain;\nprivate/preopt2cachename.te:type preopt2cachename, domain, coredomain;\nprivate/art_apex_postinstall.te:type art_apex_postinstall, domain, coredomain;\nprivate/atrace.te:type atrace, domain, coredomain;\nprivate/linkerconfig.te:type linkerconfig, domain, coredomain;\nprivate/fwk_bufferhub.te:type fwk_bufferhub, domain, coredomain;\nprivate/iw.te:type iw, domain, coredomain;\nprivate/bpfloader.te:type bpfloader, domain;\nprivate/migrate_legacy_obb_data.te:type migrate_legacy_obb_data, domain, coredomain;\nprivate/storaged.te:type storaged, domain, coredomain, mlstrustedsubject;\nprivate/clatd.te:type clatd, domain, coredomain;\nprivate/art_apex_preinstall.te:type art_apex_preinstall, domain, coredomain;\nprivate/system_server_startup.te:type system_server_startup, domain, coredomain;\nprivate/blank_screen.te:type blank_screen, domain, coredomain;\nprivate/wait_for_keymaster.te:type wait_for_keymaster, domain, coredomain;\nprivate/preloads_copy.te:type preloads_copy, domain, coredomain;\nprivate/notify_traceur.te:type notify_traceur, domain, coredomain;\nprivate/cppreopts.te:type cppreopts, domain, mlstrustedsubject, coredomain;\nprivate/postinstall_dexopt.te:type postinstall_dexopt, domain, coredomain;\nprivate/otapreopt_slot.te:type otapreopt_slot, domain, mlstrustedsubject, coredomain;\nprivate/hal_allocator_default.te:type hal_allocator_default, domain, coredomain;\nprivate/lpdumpd.te:type lpdumpd, domain, coredomain;\n\nThere\u0027s no reason for boringssl_self_test to be public, so it should be in private.",
      "parentUuid": "dd6e831b_a1544005",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 33
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e50b7d7_68150737",
        "filename": "public/boringssl_self_test.te",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1103203
      },
      "writtenOn": "2019-09-04T17:57:04Z",
      "side": 1,
      "message": "Done, moved to private.",
      "parentUuid": "cb6adbd6_6704f04b",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 33
      },
      "revId": "b49c7ec069812a7bbd1606df6c4e0a7b80b6449c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}