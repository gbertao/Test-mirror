{
  "comments": [
    {
      "key": {
        "uuid": "8a049b3b_bdcc9002",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-11-06T01:54:23Z",
      "side": 1,
      "message": "But currently, CTS and benchmark apps can just talk directly to the GPU? So I guess I\u0027m confused why there\u0027s an intermediary?\n\nWhat is this service doing that an app couldn\u0027t do directly?",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e85966e4_e2d50835",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2018-11-06T02:05:09Z",
      "side": 1,
      "message": "Chris could you please provide some background here?",
      "parentUuid": "8a049b3b_bdcc9002",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6b3171a_ac0baff6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1097853
      },
      "writtenOn": "2018-11-07T19:01:58Z",
      "side": 1,
      "message": "OK, a bit more context then.\n\nThe first use case for the GPU service is convenient querying of Vulkan capabilities _from the host_. You\u0027re correct in that everything we do here can be done by installing some device-side code on the device to collect the data -- it\u0027s just a bunch of work.\n\nThis (and the GL equivalent) have been persistent requests from external tool developers. They don\u0027t want to have to write device-side code and manage its lifetime just to figure out what else they want to do to the device.\n\nEventually we want to do some more interesting things that can\u0027t live in the app -- this service should end up being the central place for managing system-wide GPU perf / debugging capabilities, etc.",
      "parentUuid": "e85966e4_e2d50835",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f35613fe_bacfecbe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2018-11-09T02:50:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6b3171a_ac0baff6",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24457142_f899a02b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-11-13T23:26:19Z",
      "side": 1,
      "message": "1) Can you please make sure you talk to the system health team? Running a persistent service all the time takes away RAM which could be used by other processes. Keeping the service around purely for the incredibly rare host-side request feels like a poor use of RAM. Keeping this functionality within client-side APKs would avoid the persistent RAM usage.\n\n2) system wide GPU debugging on production builds has security implications. In particular, it has the potential of compromising the confidentiality or integrity of graphics data between the user and the application. When these plans progress further, please make sure to contact your local security reviewer.",
      "parentUuid": "f35613fe_bacfecbe",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d329cde_a2fdf3e3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1339259
      },
      "writtenOn": "2018-11-14T20:03:05Z",
      "side": 1,
      "message": "Hi Nick, I\u0027ll make sure we talk to system health team on this, but just curious about how that persistent takes away RAM if it does nothing when no one\u0027s doing \"adb shell cmd gpu vkjson\"",
      "parentUuid": "24457142_f899a02b",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 14,
        "endChar": 78
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "362748f0_fde62779",
        "filename": "private/gpuservice.te",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-11-06T01:54:23Z",
      "side": 1,
      "message": "this is equivalent to the binder_use macro you originally had in PS1.\n\nReplace with:\n\n  binder_use(gpuservice)\n\n(defined in system/sepolicy/public/te_macros)",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 27,
        "endChar": 52
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91e8d031_8242d423",
        "filename": "private/gpuservice.te",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2018-11-06T02:05:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "362748f0_fde62779",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 27,
        "endChar": 52
      },
      "revId": "90bb455da54d97e804aa065d1edf102ca2d251f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}