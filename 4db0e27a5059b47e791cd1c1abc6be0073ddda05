{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "274f9f28_746fddf3",
        "filename": "private/sdk_sandbox_audit.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1597535
      },
      "writtenOn": "2023-10-26T10:57:16Z",
      "side": 1,
      "message": "by virtue of also being of type sdk_sandbox_current, this domain will get tho rules for this service, an allow rule and an auditallow rule? Is there well defined precedence between them? (we want the audit allow rule to be triggered).\n\nIf system health permits, we\u0027ll want to auditallow all accesses in the current policy (and a few more). Do we want to duplicate allow and auditallow rules this way? What\u0027s the benefit of doing so? Is it possible to instead define the list of services somewhere (an sdk_sandbox_service_allowlist, similar to ephemeral_app_api_service for e.g.) and have rules that\nauditallow sdk_sandbox_service_allowlist in sdk_sandbox_audit\nallow sdk_sandbox_service_allowlist in sdk_sandbox_current ?",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "4db0e27a5059b47e791cd1c1abc6be0073ddda05",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8f31a9b_e3635c1b",
        "filename": "private/sdk_sandbox_audit.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2023-10-26T11:59:56Z",
      "side": 1,
      "message": "`auditallow` is a little confusing - it means \"audit if allowed\", not \"allow and audit\". Only an allow rule can allow something.\n\nSo if you have only auditallow it does nothing. You need both allow and auditallow if you want to allow an access but also have it audited.",
      "parentUuid": "274f9f28_746fddf3",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "4db0e27a5059b47e791cd1c1abc6be0073ddda05",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ec5c958_6a3c3413",
        "filename": "private/sdk_sandbox_audit.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1597535
      },
      "writtenOn": "2023-10-26T12:04:41Z",
      "side": 1,
      "message": "thanks for clarifying, Alan!\nLet\u0027s wait for sys health numbers, but we\u0027ll want to add auditallow rules for everything we\u0027re adding allow rules for if we can. We can revisit my suggestion then.",
      "parentUuid": "e8f31a9b_e3635c1b",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "4db0e27a5059b47e791cd1c1abc6be0073ddda05",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd85d357_3b7a199b",
        "filename": "private/sdk_sandbox_audit.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1929300
      },
      "writtenOn": "2023-10-26T12:07:17Z",
      "side": 1,
      "message": "The name `auditallow` is misleading, it does not actually grant any permissions. It only marks that the access should be audited. You still need to add allow rules for the sdk_sandbox_audit domain as well.\nhttps://selinuxproject.org/page/AVCRules\n\nMy intention with the sdk_sandbox_current is to have a single attribute to which we grant all the permissions, and add auditing only to the sdk_sandbox_audit.",
      "parentUuid": "274f9f28_746fddf3",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "4db0e27a5059b47e791cd1c1abc6be0073ddda05",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b8abfc9_29c681cf",
        "filename": "private/sdk_sandbox_audit.te",
        "patchSetId": 9
      },
      "lineNbr": 20,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2023-10-26T12:08:09Z",
      "side": 1,
      "message": "\u003e we\u0027ll want to add auditallow rules for everything we\u0027re adding allow rules for if we can\n\nWill you? Normally we auditallow things we\u0027re planning to remove, as that allows us to tell if they are in fact being used.",
      "parentUuid": "9ec5c958_6a3c3413",
      "range": {
        "startLine": 20,
        "startChar": 4,
        "endLine": 20,
        "endChar": 24
      },
      "revId": "4db0e27a5059b47e791cd1c1abc6be0073ddda05",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}