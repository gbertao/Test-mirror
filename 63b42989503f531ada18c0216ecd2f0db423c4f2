{
  "comments": [
    {
      "key": {
        "uuid": "2a7377d3_3c7a5bde",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2018-07-31T23:19:34Z",
      "side": 1,
      "message": "Should this instead be:\n\nallow ueventd self:global_capability_class_set sys_module;",
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b7681d6_9284b34b",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-01T17:25:52Z",
      "side": 1,
      "message": "I\u0027m unsure.  There are many more hits for self:capability than self:global_capability_class_set in cs/\n\nThey seem to be equivalent though?",
      "parentUuid": "2a7377d3_3c7a5bde",
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f85b51c_b8c6378f",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-08-01T19:26:47Z",
      "side": 1,
      "message": "The only difference is that Joel\u0027s suggestion allows running ueventd in a container. There should be no functional difference. I\u0027d prefer we change it.",
      "parentUuid": "5b7681d6_9284b34b",
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62a37428_97992869",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-01T20:24:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f85b51c_b8c6378f",
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28286654_f6ba0d46",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-08-01T19:26:47Z",
      "side": 1,
      "message": "My understanding is that loading kernel modules from the /system partition is a Treble violation. See https://android-review.googlesource.com/c/platform/system/sepolicy/+/644760 .\n\ntrong, can you comment here?",
      "range": {
        "startLine": 54,
        "startChar": 15,
        "endLine": 54,
        "endChar": 26
      },
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3191b8d_4ec9ef6c",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1108565
      },
      "writtenOn": "2018-08-01T20:02:10Z",
      "side": 1,
      "message": "ugh .. looks like we were shortsighted :). I think the modules at the time were only considered to be coming from vendors / ODMs and not\nfrom us (in platform). That may change though, but for now, I can confirm what nnk@ said is true. There are no modules in /system.\n\nAlthough, there can be modules in /odm for example, which if it has its own label, should be added here. I would go further and probably label\neverything under {/lib/modules, /vendor/lib/modules, /odm/lib/modules} (and may be in the future /system/lib/modules) and only allow loading from\nthere.",
      "parentUuid": "28286654_f6ba0d46",
      "range": {
        "startLine": 54,
        "startChar": 15,
        "endLine": 54,
        "endChar": 26
      },
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdbeee84_2a9677a1",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-08-01T20:15:03Z",
      "side": 1,
      "message": "Personally I\u0027m fine either way. I just want to make sure we\u0027re enforcing the appropriate architectural design principles. If the documentation is incorrect, and we\u0027re comfortable with loading modules from /system (or, even better, the locations specified by Sandeep), then I\u0027d just ask that we create a bug to update the Treble documentation. \n\nSandeep / Tom: can you two come to a consensus on what you want to do here and let me know?",
      "parentUuid": "c3191b8d_4ec9ef6c",
      "range": {
        "startLine": 54,
        "startChar": 15,
        "endLine": 54,
        "endChar": 26
      },
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd10e724_8d35f827",
        "filename": "public/ueventd.te",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-01T20:24:16Z",
      "side": 1,
      "message": "Sounds like continuing with vendor only until there\u0027s a wider change with Treble is the right idea.\n\n/odm is labeled as vendor_file, so nothing special needs to happen for it.",
      "parentUuid": "fdbeee84_2a9677a1",
      "range": {
        "startLine": 54,
        "startChar": 15,
        "endLine": 54,
        "endChar": 26
      },
      "revId": "63b42989503f531ada18c0216ecd2f0db423c4f2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}