{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bfb339ab_29c0cb1c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1124693
      },
      "writtenOn": "2020-10-13T00:00:39Z",
      "side": 1,
      "message": "CC\u0027ing Steven, since this is tangentially Treble related.",
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5800815e_41bf82ec",
        "filename": "Android.mk",
        "patchSetId": 5
      },
      "lineNbr": 60,
      "author": {
        "id": 1124693
      },
      "writtenOn": "2020-10-13T00:00:39Z",
      "side": 1,
      "message": "Since these are intended to be used downstream, could you add a comment describing how to use them?",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 60,
        "endChar": 78
      },
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "deaeccd4_56f425ef",
        "filename": "Android.mk",
        "patchSetId": 5
      },
      "lineNbr": 60,
      "author": {
        "id": 1611820
      },
      "writtenOn": "2020-10-13T00:38:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5800815e_41bf82ec",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 60,
        "endChar": 78
      },
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5398e977_e7e7463b",
        "filename": "Android.mk",
        "patchSetId": 5
      },
      "lineNbr": 1718,
      "author": {
        "id": 1124693
      },
      "writtenOn": "2020-10-13T00:00:39Z",
      "side": 1,
      "message": "I don\u0027t think we want to enforce a directory structure within external locations. Diffing SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS with SEPOLICY_FREEZE_TEST_EXTRA_DIRS should be sufficient.\n\nAlso, we don\u0027t want a situation where FREEZE_TEST_EXTRA_PREBUILT_DIRS was accidentally set in master, and SDK finalization is blocked on having to update extra prebuilt. I think we should make it so that the build variables can only be set iff sepolicy_freeze_test is enable.",
      "range": {
        "startLine": 1718,
        "startChar": 0,
        "endLine": 1718,
        "endChar": 91
      },
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "159b28a1_47cc00de",
        "filename": "Android.mk",
        "patchSetId": 5
      },
      "lineNbr": 1718,
      "author": {
        "id": 1611820
      },
      "writtenOn": "2020-10-13T00:38:11Z",
      "side": 1,
      "message": "For the first part, I tested diffing SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS and SEPOLICY_FREEZE_TEST_EXTRA_DIRS this afternoon; it breaks if SEPOLICY_FREEZE_TEST_EXTRA_DIRS points to foo/bar/sepolicy and SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS points to foo/bar/sepolicy/prebuilts. So I\u0027d keep enforcing the directory structure.\n\nI may need some clarification on \"setting build variables iff sepolicy_freeze_test is enabled\". Is there any similar code I can refer to?",
      "parentUuid": "5398e977_e7e7463b",
      "range": {
        "startLine": 1718,
        "startChar": 0,
        "endLine": 1718,
        "endChar": 91
      },
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ff97d8b_a56dbe69",
        "filename": "Android.mk",
        "patchSetId": 5
      },
      "lineNbr": 1718,
      "author": {
        "id": 1124693
      },
      "writtenOn": "2020-10-13T01:01:01Z",
      "side": 1,
      "message": "\u003e For the first part, I tested diffing SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS and SEPOLICY_FREEZE_TEST_EXTRA_DIRS this afternoon; it breaks if SEPOLICY_FREEZE_TEST_EXTRA_DIRS points to foo/bar/sepolicy and SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS points to foo/bar/sepolicy/prebuilts. So I\u0027d keep enforcing the directory structure.\n\nThis only means that one can\u0027t be a subdirectory of the other and vice versa, right?\nSo if you have:\nfoo/bar/sepolicy\nfoo/bar/sepolicy/public\nfoo/bar/sepolicy/private\nfoo/bar/sepolicy/prebuilts\nfoo/bar/sepolicy/prebuilts/public\nfoo/bar/sepolicy/prebuilts/private\n\nyou have to set the variables as:\n\n SEPOLICY_FREEZE_TEST_EXTRA_DIRS :\u003d \\\n    foo/bar/sepolicy/public \\\n    foo/bar/sepolicy/private\n\t\n SEPOLICY_FREEZE_TEST_EXTRA_PREBUILT_DIRS :\u003d \\\n    foo/bar/sepolicy/prebuilts/public \\\n    foo/bar/sepolicy/prebuilts/private\n\n\u003e I may need some clarification on \"setting build variables iff sepolicy_freeze_test is enabled\". Is there any similar code I can refer to?\n\nLine#321 is what make the build depend on sepolicy_freeze_test. Make it so that the build fails if sepolicy_freeze_test is not depended on AND one of the new build variables is set.",
      "parentUuid": "159b28a1_47cc00de",
      "range": {
        "startLine": 1718,
        "startChar": 0,
        "endLine": 1718,
        "endChar": 91
      },
      "revId": "94fe93a92abe11a08ca77287e62dc39458338ba0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}