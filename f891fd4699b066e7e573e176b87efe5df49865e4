{
  "comments": [
    {
      "key": {
        "uuid": "3f4ba4fa_21098b3e",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-10T10:34:00Z",
      "side": 1,
      "message": "This is a massive change increase in the privilege level of ueventd. Why is this necessary?",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07ac5725_d84620d6",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-06-10T10:45:39Z",
      "side": 1,
      "message": "The topic tries to switch \"mount namespace\" for ueventd process.\nThe call to setns() requires this.",
      "parentUuid": "3f4ba4fa_21098b3e",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19b4d66c_14777e80",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-10T10:49:06Z",
      "side": 1,
      "message": "\u003e The topic tries to switch \"mount namespace\" for ueventd process.\n\nWhy?",
      "parentUuid": "07ac5725_d84620d6",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49f739e2_97338eb5",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-06-10T11:30:47Z",
      "side": 1,
      "message": "We\u0027re trying to support loading firmwares from APEXes.\n\ninit process prepares two mount namespaces: bootstrap and default which have different set of APEXes, by the way.\n\nueventd is one of early processes which starts in a bootstrap mount namespace. But to support loading firmwares from regular APEXes which are mounted in \"default\" mount namespace ueventd needs to switch its mount namespace to \"default\" when APEXes are ready to use.",
      "parentUuid": "19b4d66c_14777e80",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b8d1586_ccc9f955",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-10T11:34:39Z",
      "side": 1,
      "message": "Can init do this for ueventd? Init already has these privileges.",
      "parentUuid": "49f739e2_97338eb5",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bae35f01_de04fc82",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-06-10T11:44:59Z",
      "side": 1,
      "message": "AFAIK, loading firmware is one of ueventd responsibilities. Well, given that ueventd is just a symlink of init, it might be doable.\n\nTom, what do you think?",
      "parentUuid": "0b8d1586_ccc9f955",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 67,
        "endChar": 72
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64d2e56c_83a282b1",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-10T10:34:00Z",
      "side": 1,
      "message": "Why is this needed?",
      "range": {
        "startLine": 70,
        "startChar": 16,
        "endLine": 70,
        "endChar": 25
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b2ab83e_ab715074",
        "filename": "public/ueventd.te",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-06-10T10:45:39Z",
      "side": 1,
      "message": "open(/proc/1/ns/mnt) requires this.\nWhen I tested, mount namespace file(say, /proc/1/ns/mnt) was labeled as \"unlabeled\".  \n\nI thought labeling those files as \"nsfs\" would be the ideal, but a quick codesearch revealed that many processes are using \"unlabeled\" and changing them seems to be too much for this change.",
      "parentUuid": "64d2e56c_83a282b1",
      "range": {
        "startLine": 70,
        "startChar": 16,
        "endLine": 70,
        "endChar": 25
      },
      "revId": "f891fd4699b066e7e573e176b87efe5df49865e4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}