{
  "comments": [
    {
      "key": {
        "uuid": "9c714b5a_5daa1b5d",
        "filename": "private/service_contexts",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-10-20T16:30:15Z",
      "side": 1,
      "message": "drop the first _service, it\u0027s cleaner. :)",
      "range": {
        "startLine": 38,
        "startChar": 87,
        "endLine": 38,
        "endChar": 95
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_56b192c6",
        "filename": "private/service_contexts",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-21T06:18:59Z",
      "side": 1,
      "message": "Actually, I changed this back to surfaceflinger_service.  I do not want to take back any privilege to break devices without android_hardware_graphics_composer.\n\nBut display.qservice?  It seems very device-specific.",
      "parentUuid": "9c714b5a_5daa1b5d",
      "range": {
        "startLine": 38,
        "startChar": 87,
        "endLine": 38,
        "endChar": 95
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c714b5a_1da4a38a",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-10-20T16:30:15Z",
      "side": 1,
      "message": "drop please.",
      "range": {
        "startLine": 2,
        "startChar": 39,
        "endLine": 2,
        "endChar": 47
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_76ae0e68",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-21T06:18:59Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "9c714b5a_1da4a38a",
      "range": {
        "startLine": 2,
        "startChar": 39,
        "endLine": 2,
        "endChar": 47
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c714b5a_fdc18f1d",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-10-20T16:30:15Z",
      "side": 1,
      "message": "drop please.",
      "range": {
        "startLine": 3,
        "startChar": 39,
        "endLine": 3,
        "endChar": 47
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_16bb1aa9",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-21T06:18:59Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "9c714b5a_fdc18f1d",
      "range": {
        "startLine": 3,
        "startChar": 39,
        "endLine": 3,
        "endChar": 47
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c8e3bb3_f79bc0ad",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2016-10-21T20:13:30Z",
      "side": 1,
      "message": "What\u0027s this being used for?",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 113
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcf74308_c4d26fbb",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-22T00:17:40Z",
      "side": 1,
      "message": "As far as I can tell, the implementation uses uevents to receive hotplug and panel reset events.\n\nI do not think this is the case with every impl., but it ends up in the generic surfaceflinger.te somehow.",
      "parentUuid": "1c8e3bb3_f79bc0ad",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 113
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1d8a809_71bf9808",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2016-10-24T19:41:45Z",
      "side": 1,
      "message": "Should we remove this from here and from surfaceflinger then?",
      "parentUuid": "dcf74308_c4d26fbb",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 113
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_397f2784",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-24T22:49:38Z",
      "side": 1,
      "message": "I can remove it from here, but not surfaceflinger.  Not all targets use android_hardware_graphics_composer_service.",
      "parentUuid": "a1d8a809_71bf9808",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 113
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c714b5a_fd0f4fa0",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-10-20T16:30:15Z",
      "side": 1,
      "message": "this is quite broad, do we need access to all of sysfs or just a portion?",
      "range": {
        "startLine": 30,
        "startChar": 55,
        "endLine": 30,
        "endChar": 65
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_36b896a9",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-21T06:18:59Z",
      "side": 1,
      "message": "For the implementation I tested against,\n\n  /sys/devices/soc/900000.qcom,mdss_mdp/caps\n\nIt feels like something that should be removed from the generic rules here?  Same for the netlink rule above?",
      "parentUuid": "9c714b5a_fd0f4fa0",
      "range": {
        "startLine": 30,
        "startChar": 55,
        "endLine": 30,
        "endChar": 65
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c714b5a_7d303f03",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2016-10-20T17:13:33Z",
      "side": 1,
      "message": "What denials is this addressing? you should already have the necessary permissions granted in domain.te.",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcf74308_642ba0dd",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-21T06:18:59Z",
      "side": 1,
      "message": "I got\n\n    avc: denied { read } for name\u003d\"hw\" dev\u003d\"dm-0\" ino\u003d1706 scontext\u003du:r:android_hardware_graphics_composer:s0 tcontext\u003du:object_r:system_file:s0 tclass\u003ddir permissive\u003d1\n    avc: denied { open } for path\u003d\"/system/lib64/hw\" dev\u003d\"dm-0\" ino\u003d1706 scontext\u003du:r:android_hardware_graphics_composer:s0 tcontext\u003du:object_r:system_file:s0 tclass\u003ddir permissive\u003d1\n\nwithout this rule.",
      "parentUuid": "9c714b5a_7d303f03",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c8e3bb3_b7a138e4",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2016-10-21T20:13:30Z",
      "side": 1,
      "message": "Why is the underlying implementation reading the contents of the directory. It already has permission to read a known library. Can\u0027t it just do that instead.",
      "parentUuid": "dcf74308_642ba0dd",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcf74308_847067fa",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-22T00:17:40Z",
      "side": 1,
      "message": "I am not sure about this one :(",
      "parentUuid": "1c8e3bb3_b7a138e4",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1d8a809_11c40c9c",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2016-10-24T19:41:45Z",
      "side": 1,
      "message": "Do you not have source?",
      "parentUuid": "dcf74308_847067fa",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc24a349_d9bab319",
        "filename": "public/android_hardware_graphics_composer_service.te",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1096171
      },
      "writtenOn": "2016-10-24T22:49:38Z",
      "side": 1,
      "message": "The HAL does dlopen some proprietary libraries.  I am not sure where the offending code is.  I searched for \"opendir\" and \"/system\" from where I have source code for and there was no result.  Is there a better way to trace this down?",
      "parentUuid": "a1d8a809_11c40c9c",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 67
      },
      "revId": "fb8b329f3b3e7e8c3871e90d126b276b0fcbd5dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}