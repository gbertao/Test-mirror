{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "880828db_f19d7218",
        "filename": "private/genfs_contexts",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-06T11:50:00Z",
      "side": 0,
      "message": "Removing this changes the label (to just proc). And proc_fs_verity is public, so there may be existing vendor policy referring to it.\n\nSo either you need to do some compat work here (reversing the previous compat changes), or you could just leave this genfscon as is.",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 76
      },
      "revId": "069a98c6ad58203e8ab2907983013b999aa19c76",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a8b74e6_0982ac29",
        "filename": "private/genfs_contexts",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2022-12-06T16:32:01Z",
      "side": 0,
      "message": "Can you elaborate on the compat work I need?  I\u0027m a bit lost here around dessert upgrade, Trebel, etc.",
      "parentUuid": "880828db_f19d7218",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 76
      },
      "revId": "069a98c6ad58203e8ab2907983013b999aa19c76",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e739750_2a6b869d",
        "filename": "private/genfs_contexts",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-06T16:47:30Z",
      "side": 0,
      "message": "I was hoping you wouldn\u0027t ask that :-(\n\nThe original compat change is here, I think: cs/android-internal/system/sepolicy/prebuilts/api/30.0/private/compat/28.0/28.0.cil?rcl\u003d836124e880c3c61efbab85971df0430c96ba9633\u0026l\u003d1379\n\nThat says that vendor code from 28 or before that has access to proc should have access to proc_fs_verity on later system images.\n\nTo go the other way I think you have to add something like\n\n(typeattributeset proc_fs_verity_33_0 ( proc ))\n\nto system/sepolicy/private/compat/33.0/33.0.compat.cil. Which says vendor things up to 33 that can access proc_fs_verity should have access to proc afterwards.\n\nBut if you get a wall of error messages I\u0027m going to deny all responsibility.",
      "parentUuid": "5a8b74e6_0982ac29",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 76
      },
      "revId": "069a98c6ad58203e8ab2907983013b999aa19c76",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "516951ea_af1f3980",
        "filename": "private/genfs_contexts",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2022-12-06T17:18:45Z",
      "side": 0,
      "message": "lol thanks Alan.  I\u0027ll leave this part as-is for now and try your idea later.",
      "parentUuid": "8e739750_2a6b869d",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 76
      },
      "revId": "069a98c6ad58203e8ab2907983013b999aa19c76",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}