{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7d79a263_6cf1958f",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2022-01-25T04:26:55Z",
      "side": 1,
      "message": "nit; move this to private/mtectrl.te. coredomain is a system private thing\n\ntypeattribute mtectrl coredomain;",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3e099bf_c6dcff50",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-01-25T06:57:23Z",
      "side": 1,
      "message": "Can\u0027t do that, because the type is used in the neverallow in public/domain.te",
      "parentUuid": "7d79a263_6cf1958f",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d97cd10_b300f698",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2022-01-25T07:00:59Z",
      "side": 1,
      "message": "Then you can move the neverallow to private. neverallow rules don\u0027t need to be in public.",
      "parentUuid": "c3e099bf_c6dcff50",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01c89507_9fccdeea",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2022-01-25T07:04:04Z",
      "side": 1,
      "message": "... and I just verified that it just works (without moving the neverallow)",
      "parentUuid": "9d97cd10_b300f698",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52fd0071_8c679b2a",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2022-01-25T07:11:20Z",
      "side": 1,
      "message": "Reading the code again, I think you don\u0027t even need public/mtectrl.te at all? Like,\n\n  # private/mtectrl.te\n  type mtectrl, domain, coredomain;\n  ...\n  \nAnd then we move the neverallow rule to private/domain.te. Doing that, we don\u0027t need the compat file change, and we can avoid exposing \"mtectrl\" to the vendor sepolicy.",
      "parentUuid": "01c89507_9fccdeea",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "253a7e9b_ee13b5af",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2022-01-25T16:58:38Z",
      "side": 1,
      "message": "Ah sorry, I misread and thought you want me to move the whole domain declaration. I can move the typeattribute, but not sure if that makes much of a difference.\n\nI don\u0027t think moving an existing neverallow from public to private is a good idea.",
      "parentUuid": "52fd0071_8c679b2a",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36111cc1_ecc40e8b",
        "filename": "public/mtectrl.te",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2022-01-25T23:46:49Z",
      "side": 1,
      "message": "\u003e I can move the typeattribute, but not sure if that makes much of a difference.\n\nMaybe moving the typeattribute doesn\u0027t make much of a difference, but moving the whole type to \"private\" should do. Especially, if you plan to cherry pick this to android12-tests-dev, leaving public as-is would be much better, in terms of compatibility.\n\n\u003e I don\u0027t think moving an existing neverallow from public to private is a good idea.\n\nMoving it to private doesn\u0027t make any difference. Neverallow checks are still performed. The reason why we have \"public\" is just to \"export\" some types and attributes so vendors can use them.\n\nIn case you don\u0027t want to work on, aosp/1958841 is the fix.",
      "parentUuid": "253a7e9b_ee13b5af",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "23173455ab48bbc1cc1e394717369e99e7175179",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}