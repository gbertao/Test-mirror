{
  "comments": [
    {
      "key": {
        "uuid": "38d04e8b_199e4699",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-18T07:08:29Z",
      "side": 1,
      "message": "this needs to move too.",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e729195_8b187bc0",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1039918
      },
      "writtenOn": "2020-06-18T16:18:21Z",
      "side": 1,
      "message": "Jeff, I replied in the previous patch and also earlier patches that this can\u0027t be moved.\nThe vendor policy files need this to compile.",
      "parentUuid": "38d04e8b_199e4699",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "975bebef_73704862",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-18T20:16:32Z",
      "side": 1,
      "message": "We should find a separate way of handling that. E.g. since we believe that it\u0027s likely in the graphics library, we could instead do something like:\nget_prop(domain, vendor_display_prop)\n\nIt\u0027s a bug in Qualcomm\u0027s implementation that this property is being read by users of the graphics library, so definitely not your fault. But exposing this type across the Treble boundary is not the right solution. It will lead to vendors doing the wrong thing, just like Qualcomm in this case.",
      "parentUuid": "7e729195_8b187bc0",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "238b778e_3b215ef8",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1039918
      },
      "writtenOn": "2020-06-18T21:06:00Z",
      "side": 1,
      "message": "Jeff, which domain I should use in the get_prop() line?\n\nIf you have a solution, I could try it on my side.",
      "parentUuid": "975bebef_73704862",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bdf1d3f_6ada72f4",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-18T21:10:16Z",
      "side": 1,
      "message": "Try \"domain\". In device specific policy, replace your current \"dontaudit\" with:\n\nget_prop(domain, vendor_display_prop)\n\nThank you!",
      "parentUuid": "238b778e_3b215ef8",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36cd709d_6d759ed5",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1039918
      },
      "writtenOn": "2020-06-18T22:25:22Z",
      "side": 1,
      "message": "This works! Thanks!\nI uploaded the AOSP patch to:\nhttps://android-review.googlesource.com/c/platform/system/sepolicy/+/1343997\n\nAnd the vendor policy fixes to topic:\nhttps://googleplex-android-review.git.corp.google.com/q/topic:%22get_prop_domain%22+(status:open%20OR%20status:merged)",
      "parentUuid": "5bdf1d3f_6ada72f4",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63b9293e_62b772cd",
        "filename": "public/mediatranscoding.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-06-19T07:06:39Z",
      "side": 1,
      "message": "+2\u0027ed! Thank you so much for doing this cleanup!\n\nFWIW, disallowing vendor dependencies on your new service will increase your flexibility to make changes to it - you can make changes without concern that you\u0027re breaking ancient vendor images. Hopefully this change makes life easier for future-you.",
      "parentUuid": "36cd709d_6d759ed5",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 30
      },
      "revId": "351dd88e86fd487fdcdd4041ee39c6877a0af5db",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}