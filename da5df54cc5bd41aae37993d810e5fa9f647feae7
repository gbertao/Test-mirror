{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9c0794fe_b37176a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2022-12-07T00:26:41Z",
      "side": 1,
      "message": "Is Jeff or Alan familiar with these specific xperms? Everything else lgtm",
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9181b735_a6ab9bff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T00:28:50Z",
      "side": 1,
      "message": "I had forgotten to upload public/hal_can_controller.te, it\u0027s new on PS6",
      "parentUuid": "9c0794fe_b37176a0",
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb6059c1_5857895c",
        "filename": "private/canhalconfigurator.te",
        "patchSetId": 6
      },
      "lineNbr": 9,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "The general rule for these files is that rules that affect domain foo (where foo is the source context) should be in foo.te.\n\nSo this rule should be in hal_can_controller.te rather than here.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 51
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4b4ba58_325d5f1c",
        "filename": "private/canhalconfigurator.te",
        "patchSetId": 6
      },
      "lineNbr": 9,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb6059c1_5857895c",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 51
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef4dc4b8_95520945",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "A one-line comment at the top explaining what this is would help future readers.\n(Explaining what \"CAN\" is would also help.)",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 65
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1dbf9277_2db0841f",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "added a description",
      "parentUuid": "ef4dc4b8_95520945",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 65
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e75024e_7d7ba89c",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "Where is hal_can_controller defined?",
      "range": {
        "startLine": 6,
        "startChar": 6,
        "endLine": 6,
        "endChar": 24
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2ed5f24_4a616a1f",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "I don\u0027t think any of this needs to be in public. Can you put all or most of it in private instead?\n\n(You may need to define hal_can_controller in public, so the vendor code can refer to it.)",
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "362331ed_ba702e89",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "I _think_ it\u0027s defined in `public/hal_can.te`?\n```\nhal_attribute_hwservice(hal_can_controller, hal_can_controller_hwservice)\n```\nHowever, my understanding of SEPolicy configuration is based on trial-and-error, so it\u0027s entirely possible it\u0027s auto-generated somehow.",
      "parentUuid": "5e75024e_7d7ba89c",
      "range": {
        "startLine": 6,
        "startChar": 6,
        "endLine": 6,
        "endChar": 24
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3354897_31864858",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "All of the other `hal_*.te` are defined in `public/` - is it not convention to have a HAL defined in `public/`?\n\nI moved it to `private/` and it seems to behave.",
      "parentUuid": "f2ed5f24_4a616a1f",
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4ea27316_a0b12df6",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-08T17:07:13Z",
      "side": 1,
      "message": "That\u0027s not it (those macros are defined in system/sepolicy/public/te_macros, FWIW).\nIt\u0027s actually here: cs.android.com/android/platform/superproject/+/master:system/sepolicy/public/attributes;drc\u003d3accea479aa4797165b310e5e07aa8a34919485a;l\u003d330\n\n`hal_attribute(can_controller);` - which cunningly doesn\u0027t mention \"hal_can_controller\", defeating my search skills.\n\nThe hal macros always confuse me :-(",
      "parentUuid": "362331ed_ba702e89",
      "range": {
        "startLine": 6,
        "startChar": 6,
        "endLine": 6,
        "endChar": 24
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d747d75a_fa80d27b",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 6,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-08T17:07:13Z",
      "side": 1,
      "message": "Historically there\u0027s been a tendency to put stuff in public that doesn\u0027t really need to be there.\nIf your vendor policy compiles, that indicates that everything that needs to be public is.\n\nBut we should probably check with @smoreland@google.com that it\u0027s ok for hal_can_controller_service to be private not public.",
      "parentUuid": "b3354897_31864858",
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cadbe8f_3d40433b",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 10,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "I don\u0027t think this can be right - that\u0027s a service, not a domain (process).\n\nhal_can_controller_server, maybe?",
      "range": {
        "startLine": 10,
        "startChar": 6,
        "endLine": 10,
        "endChar": 32
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ecb8f211_4d549da7",
        "filename": "public/hal_can_controller.te",
        "patchSetId": 6
      },
      "lineNbr": 10,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "I must have copy pasted incorrectly, I don\u0027t think this section is needed.",
      "parentUuid": "9cadbe8f_3d40433b",
      "range": {
        "startLine": 10,
        "startChar": 6,
        "endLine": 10,
        "endChar": 32
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b4afc85_6c0cf284",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "Is this still needed?",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7b93ccd_e68a4325",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2022-12-07T22:10:33Z",
      "side": 1,
      "message": "No, at least not for \"un-publishing\" any interfaces.",
      "parentUuid": "3b4afc85_6c0cf284",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a7d54e7_18299c38",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "HIDL CAN HAL is still used on some targets - I still have to change some services depending on it before I can remove it.",
      "parentUuid": "3b4afc85_6c0cf284",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "173975ab_d218255b",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-08T17:07:13Z",
      "side": 1,
      "message": "Could you update the comment and/or add a TODO?",
      "parentUuid": "4a7d54e7_18299c38",
      "range": {
        "startLine": 28,
        "startChar": 24,
        "endLine": 28,
        "endChar": 64
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb9c3966_931046b0",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 40,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-07T12:20:49Z",
      "side": 1,
      "message": "This seems to be duplicating a lot of what is now in hal_can_controller.te.\n\nThat shouldn\u0027t be needed.\n\nhal_server_domain(hal_can_socketcan, hal_can_controller) means that hal_can_socketcan automatically gets all the permissions you grant to hal_can_controller and hal_can_controller_server.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce8c8760_caa9bbc7",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 40,
      "author": {
        "id": 1565997
      },
      "writtenOn": "2022-12-07T22:17:13Z",
      "side": 1,
      "message": "permissions de-duplicated",
      "parentUuid": "fb9c3966_931046b0",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5427ead2_8af072af",
        "filename": "vendor/hal_can_socketcan.te",
        "patchSetId": 6
      },
      "lineNbr": 40,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-12-08T17:07:13Z",
      "side": 1,
      "message": "Thanks, this CL is much simpler \u0026 easier to understand now.",
      "parentUuid": "ce8c8760_caa9bbc7",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "da5df54cc5bd41aae37993d810e5fa9f647feae7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}