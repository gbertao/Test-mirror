{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "37dca7bb_977311f9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-01-20T04:27:38Z",
      "side": 1,
      "message": "This might be too permissive if the intended client of this service is a single process, not arbitrary privileged apps. If the single process can be identified, it would be better to have an allow rule like `allow the_domain nearby_service:service_manager find`. Over to Sepolicy owners in case they have different opinion.",
      "revId": "4a8efe047c199172b4ff34d91c66718c985aee33",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0dfb3ee5_2e97bb97",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1639046
      },
      "writtenOn": "2022-01-20T04:44:20Z",
      "side": 1,
      "message": "Thank you for the comment.\nI updated this change and only allow \"service_manager find\" for \"nearby_service\".",
      "parentUuid": "37dca7bb_977311f9",
      "revId": "4a8efe047c199172b4ff34d91c66718c985aee33",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf361288_0a148546",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1639046
      },
      "writtenOn": "2022-01-20T05:01:47Z",
      "side": 1,
      "message": "It seems we can\u0027t just add `allow the_domain nearby_service:service_manager find` in private/nearby_service.te.\nIt will build fail with:\ncheckpolicy:  error(s) encountered while parsing configuration\nsepolicy-analyze failed. This is most likely due to the use\nof an expanded attribute in a neverallow assertion. Please fix\nthe policy.\n\nI think we can just add \"system_api_service\" to \"nearby_service\".\nThis follow the same as \"safety_center_service\":\nhttps://cs.android.com/search?q\u003dSAFETY_CENTER_SERVICE",
      "parentUuid": "0dfb3ee5_2e97bb97",
      "revId": "4a8efe047c199172b4ff34d91c66718c985aee33",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dea87a67_70f825fe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-01-20T06:31:11Z",
      "side": 1,
      "message": "Did you use `the_domain` as it is? It should be replaced with the name of the domain (or an attribute that represents the group of processes) that needs the access to nearby_service.\n\nWe may follow the case of safety_center_service; I don\u0027t know. Jeff must be a better person than me to make a judgement. But I just wanted to leave a note that what this CL does may be more permissive than what you actually need.",
      "parentUuid": "cf361288_0a148546",
      "revId": "4a8efe047c199172b4ff34d91c66718c985aee33",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}