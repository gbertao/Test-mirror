{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4c0dd630_5e31fe59",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-27T17:15:42Z",
      "side": 1,
      "message": "This will allow the GraphicsEnvironment code to query the legacy driver.",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9297184c_7dc94edd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-27T17:34:25Z",
      "side": 1,
      "message": "Try to re-start presubmit after creating the topic for both CLs",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c37010fd_db15ea55",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-27T18:22:09Z",
      "side": 1,
      "message": "Hi there, we need to add another system property for devices that are transitioning from an IHV-provided (a.k.a. \"legacy\") GLES driver to using ANGLE.  The property allows ANGLE to be the system driver, while preserving the ability to select the legacy driver for certain applications (e.g. while bugs are being addressed).",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ef772b5_d86ed1b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-27T21:31:32Z",
      "side": 1,
      "message": "The test that fails appears to be broken, and has failed repeatedly for a while: https://android-build.googleplex.com/builds/tests/view?invocationId\u003dI95600010043243575\u0026testResultId\u003dTR57727998683266271",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e423544c_736f91cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-28T00:13:08Z",
      "side": 1,
      "message": "Jinyong, can you give an OWNERS review please?",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f746012_126ec91d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-28T16:46:59Z",
      "side": 1,
      "message": "I don\u0027t understand the feedback.  Is there documentation that can help me understand what to do?",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd2c53d6_9e0a7994",
        "filename": "prebuilts/api/28.0/public/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-28T00:17:49Z",
      "side": 1,
      "message": "Please don\u0027t update the prebuilts. \n\n\u003e Prebuilt policies must not be changed outside the release cycle",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67001418_cc3defcd",
        "filename": "prebuilts/api/28.0/public/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-28T16:46:59Z",
      "side": 1,
      "message": "What is \"the release cycle\"?  Is there documentation that can help us understand?\n\nWe are doing platform and driver work for Android U, and cannot make the required platform changes without a new property.",
      "parentUuid": "fd2c53d6_9e0a7994",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8def3c64_55eeba13",
        "filename": "prebuilts/api/28.0/public/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-29T01:51:01Z",
      "side": 1,
      "message": "I\u0027ve replied in the other thread.",
      "parentUuid": "67001418_cc3defcd",
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f69320c5_d487b30d",
        "filename": "prebuilts/api/32.0/private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 973,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2022-04-28T09:09:33Z",
      "side": 1,
      "message": "the lint here is correct \"Prebuilt policies must not be changed outside the release cycle.\"",
      "range": {
        "startLine": 973,
        "startChar": 0,
        "endLine": 973,
        "endChar": 81
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09577ccb_70309750",
        "filename": "prebuilts/api/32.0/private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 973,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-28T16:46:59Z",
      "side": 1,
      "message": "What is \"the release cycle\"?  Is there documentation that can help us understand?\n\nWe are doing platform and driver work for Android U, and cannot make the required platform changes without a new property.",
      "parentUuid": "f69320c5_d487b30d",
      "range": {
        "startLine": 973,
        "startChar": 0,
        "endLine": 973,
        "endChar": 81
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09cf4347_37514c1d",
        "filename": "prebuilts/api/32.0/private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 973,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-29T01:51:01Z",
      "side": 1,
      "message": "The release cycle means the yearly releases of Android platform. If this is intended for Android U only, you don\u0027t need to touch prebuilts/api/* directories. So the ask is not modifying those directories.",
      "parentUuid": "09577ccb_70309750",
      "range": {
        "startLine": 973,
        "startChar": 0,
        "endLine": 973,
        "endChar": 81
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b02690d2_c8be82ef",
        "filename": "prebuilts/api/32.0/private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 973,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-05-02T18:40:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09cf4347_37514c1d",
      "range": {
        "startLine": 973,
        "startChar": 0,
        "endLine": 973,
        "endChar": 81
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd747350_41255817",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-28T00:17:49Z",
      "side": 1,
      "message": "Let\u0027s not add more to exported_default_prop. Please define a new property context, tie ro.hardware.egl_legacy to it and add allow rules around the context.",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fec952d_4e5bdc52",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-28T16:46:59Z",
      "side": 1,
      "message": "I\u0027m sorry, but I don\u0027t understand what this is saying.  What is \"exported_default_prop\", and where/how can \"a new property context\" be defined?\n\nI found no documentation for this topic, and tried to follow what a previous CL did to add \"ro.hardware.vulkan\".  Again, is there documentation that can guide me in what to do?",
      "parentUuid": "dd747350_41255817",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91fd226b_ff82ee7a",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-29T01:51:01Z",
      "side": 1,
      "message": "Sure. Could you visit https://source.android.com/devices/architecture/configuration/add-system-properties ?\n\nIf anything is missing for you to do the task, let us know so that we can revise the documentation.",
      "parentUuid": "0fec952d_4e5bdc52",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "543bcea6_57429732",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-29T02:06:08Z",
      "side": 1,
      "message": "Thank you, I\u0027ll take a look!",
      "parentUuid": "91fd226b_ff82ee7a",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ca1101a_ee5cdfed",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-04-30T00:04:22Z",
      "side": 1,
      "message": "\u003e If anything is missing for you to do the task, let us know so that we can revise the documentation.\n\nI\u0027ll ask some questions with a genuine interest in understanding and improving things.  There\u0027s a lot of context missing from that document.  Please forgive me, but I have spent some time trying to understand.\n\nFor example, is the word \"context\" being used in different ways in the \"Property name\" and \"Property Context\" sections?  What are the possible contexts to use for \"Property Context\"?  Where are the descriptions of those context so that I can make a good decision about which to allow or deny?\n\nGiven that \"ro.hardware.egl_legacy\" is set and read in the same places that \"ro.hardware.egl\" is, should I just make a new property context that is the same as \"exported_default_prop\", but has a different name?  That would be easy for me, but I\u0027m not sure it helps solve the problem you are trying to solve.\n\nI did a search for graphics in \"system/sepolicy/private/property_contexts\".  I found \"graphics_config_prop\".  I found the original CL that added it, and can see that there was a different use case.  I found other properties that are now using it.  I suspect people just reused it like I reused \"exported_default_prop\" (i.e. because they didn\u0027t understand all of the contexts).  In looking at the \"*.te\" files that contain \"graphics_config_prop\" vs \"exported_default_prop\", it\u0027s not clear to me why different \"\u003cdomain\u003e.te\" files are used, and why different domains were in neverallow.\n\nWould \"graphics_config_prop\" work for my needs?  I\u0027m not sure how to tell.\n\nI hope my feedback is helpful for you, and that you can help me make a good change.",
      "parentUuid": "543bcea6_57429732",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d84304e4_6e2a9e1c",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-05-02T04:52:07Z",
      "side": 1,
      "message": "Context is a kind of label associated to a sysprop and selinux treats sysprops having the same context the same.\n\nThe reason I suggested moving away from exported_default_prop is that the context is overly permissive and therefore we don\u0027t want to add more sysprops to it—even if the newly added sysprop needs such a permissive accessibility.\n\nSo, yes, making a new context that has the same (or similar) accessibility as exported_default_prop is better than reusing it.\n\n\ngraphics_config_prop seems to be a good choice given that it is also used to set the name of the graphics driver and is accessible to appdomain.",
      "parentUuid": "1ca1101a_ee5cdfed",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4267de0e_4770eaaf",
        "filename": "private/property_contexts",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1098333
      },
      "writtenOn": "2022-05-02T16:12:49Z",
      "side": 1,
      "message": "Okay, thank you!",
      "parentUuid": "d84304e4_6e2a9e1c",
      "range": {
        "startLine": 1059,
        "startChar": 44,
        "endLine": 1059,
        "endChar": 65
      },
      "revId": "a7ad764fedba50196f7010d457d9a05d0efc8345",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}