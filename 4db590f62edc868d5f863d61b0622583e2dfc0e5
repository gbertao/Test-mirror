{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "15b1d406_18c3f5ad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1080238
      },
      "writtenOn": "2021-12-14T17:15:15Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dfbcc1f5_d5c42faa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2021-12-14T17:30:00Z",
      "side": 1,
      "message": "LGTM thanks, passing this to Jeff.",
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "374c2cdb_030bbf01",
        "filename": "private/priv_app.te",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-12-14T17:53:26Z",
      "side": 1,
      "message": "gmscore doesn\u0027t run in the priv_app selinux context. It runs in gmscore_app",
      "range": {
        "startLine": 89,
        "startChar": 24,
        "endLine": 89,
        "endChar": 31
      },
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce9053b4_abdcd999",
        "filename": "private/priv_app.te",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-12-14T17:53:26Z",
      "side": 1,
      "message": "Might as well add getattr here too. It\u0027s normal (and expected) that receivers of fds should be able to call stat() on them.",
      "range": {
        "startLine": 94,
        "startChar": 48,
        "endLine": 94,
        "endChar": 52
      },
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12c6564b_41c3526a",
        "filename": "private/priv_app.te",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-12-14T17:53:26Z",
      "side": 1,
      "message": "seems like there should be a neverallow rule for this. Perhaps there is one already, but I wasn\u0027t able to find it. Perhaps Primiano can help us craft one. Something like:\n\nneverallow appdomain perfetto_traces_data_file ~{ getattr read };\n\nOr maybe even\nneverallow { domain -init -perfetto... } perfetto_traces_data_file ~{ getattr read };\n\nprobably in private/perfetto.te",
      "range": {
        "startLine": 94,
        "startChar": 15,
        "endLine": 94,
        "endChar": 45
      },
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78d0a5f7_fbed5e37",
        "filename": "private/priv_app.te",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2021-12-14T19:03:10Z",
      "side": 1,
      "message": "Re perfetto_traces_data_file, IIRC the decision in the past was to leave it open so that if an OEM wants to have its own service driving tracing they can just allow that.\n\nA neverallow won\u0027t prevent them to do so too hardly. I believe all they have to do is change the path used by traced (it\u0027s AOSP code after all), create a new genfs rule, allow that in their /vendor policy.",
      "parentUuid": "12c6564b_41c3526a",
      "range": {
        "startLine": 94,
        "startChar": 15,
        "endLine": 94,
        "endChar": 45
      },
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed744436_0af8b688",
        "filename": "private/priv_app.te",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-12-15T07:20:18Z",
      "side": 1,
      "message": "I disagree with this. This is permission-gated data with a documented API for accessing it. Even if we can\u0027t prevent all customization, we should make doing the correct thing easy/obvious, and make it difficult to do the wrong thing. We do this with other permission gated data e.g. dropbox: https://cs.android.com/android/platform/superproject/+/master:system/sepolicy/private/domain.te;l\u003d141?q\u003ddropbox_data_file\u0026start\u003d31",
      "parentUuid": "78d0a5f7_fbed5e37",
      "range": {
        "startLine": 94,
        "startChar": 15,
        "endLine": 94,
        "endChar": 45
      },
      "revId": "4db590f62edc868d5f863d61b0622583e2dfc0e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}