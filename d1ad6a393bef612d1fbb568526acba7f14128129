{
  "comments": [
    {
      "key": {
        "uuid": "8edbbaa9_f754ee03",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 130,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "we could end up with BOARD_SEPOLICY_DIRS and BOARD_ODM_SEPOLICY_DIRS defined, which feels like it should also be an error (basically if you use either of the new bits, you should abandon the old).",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 130,
        "endChar": 5
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1826fef_5bd15cc8",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 130,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8edbbaa9_f754ee03",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 130,
        "endChar": 5
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "12014078_7e3ad07c",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 524,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "not immediately obvious that this is versioned, so maybe add that to name, e.g. buitl_plat_pub_vers_cil?  Also, it seems silly to include the plat_pub in vendor and odm only to scrape it out.  Perhaps we could avoid doing this?  With the multiple declarations, it might be easier now, though we might have to move some other components around.",
      "range": {
        "startLine": 524,
        "startChar": 48,
        "endLine": 524,
        "endChar": 66
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20828280_72baa1e0",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 524,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-10-20T15:43:44Z",
      "side": 1,
      "message": "Good suggestion, Will switch to buitl_plat_pub_vers_cil.\n  \nIncluding buitl_plat_pub_vers_cil isn\u0027t just to scrape it out. It\u0027s needed to pass the checkpolicy at line 518.\n  \nI\u0027m not sure how to avoid that, need more investigation.",
      "parentUuid": "12014078_7e3ad07c",
      "range": {
        "startLine": 524,
        "startChar": 48,
        "endLine": 524,
        "endChar": 66
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1222f41c_248085a7",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 524,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done for s/built_plat_pub_cil/built_plat_pub_vers_cil.\n\ncheckpolicy reads a single input file. It seems not worth to change checkpolicy accept multiple .conf files, so I\u0027ll keep it as it is.\n\nThe following is the file size, just for FYI.\n 558K Nov  3 18:21 plat_pub_versioned.cil\n 239K Nov  3 18:21 vendor_sepolicy.cil",
      "parentUuid": "20828280_72baa1e0",
      "range": {
        "startLine": 524,
        "startChar": 48,
        "endLine": 524,
        "endChar": 66
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11a011a8_1732ee1c",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 702,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "aside: we really should break up recovery to follow treble.",
      "range": {
        "startLine": 702,
        "startChar": 2,
        "endLine": 702,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66cb4b67_4996bd71",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 702,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-10-20T12:55:07Z",
      "side": 1,
      "message": "But how? My understanding is that recovery needs to be self-contained because other partitions (/system, /vendor) might not be available.",
      "parentUuid": "11a011a8_1732ee1c",
      "range": {
        "startLine": 702,
        "startChar": 2,
        "endLine": 702,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef76e871_0ddab5f9",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 702,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-20T13:55:00Z",
      "side": 1,
      "message": "I guess a first step is to figure out how recovery fits into the treble model, and then we can adjust policy to reflect that.  Does treble expect it to be stored in an un-updatable place, and if so whatever it relies on also mustn\u0027t be changed.",
      "parentUuid": "66cb4b67_4996bd71",
      "range": {
        "startLine": 702,
        "startChar": 2,
        "endLine": 702,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fba9c7db_c5c118cf",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 702,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-10-20T15:43:44Z",
      "side": 1,
      "message": "Treble shouldn\u0027t affect recovery is updatable or not.\nIn Treble, there are two modes:\n  1) system-only OTA (introduced by Treble) or\n  2) traditional OTA (includes system, vendor, boot, etc) --\u003e this exists before Treble\n\nMy understanding for recovery update-ability is:\n  a. For A/B devices (devices with _a/_b partitions), recovery partition is /boot partition (BOARD_USES_RECOVERY_AS_BOOT, TARGET_NO_RECOVERY). So it will updated when an OTA happens. Even if the OTA fail, it still can fallback to another slot (_a --\u003e _b or vice versa).\n\n  b. For non-A/B devices, recovery partition shouldn\u0027t be OTA-ed. Because there is no fallback if the update fails.\n\nIn any cases, recovery partition (kernel + recovery-ramdisk.img) needs to be \"self-contained\". It shouldn\u0027t rely on mounting other partitions, because it might trigger another level of recovery, which ends up with infinite recovery boots.\n\nI can file an issue for discussion, but so far I didn\u0027t see issues about that.",
      "parentUuid": "ef76e871_0ddab5f9",
      "range": {
        "startLine": 702,
        "startChar": 2,
        "endLine": 702,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf86c869_2c512384",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 702,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Just FYI, b/68319577 is for discussing recovery for system-as-root on non-A/B.",
      "parentUuid": "fba9c7db_c5c118cf",
      "range": {
        "startLine": 702,
        "startChar": 2,
        "endLine": 702,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b56b42e2_506e1a0f",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 829,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "these don\u0027t exist anymore",
      "range": {
        "startLine": 826,
        "startChar": 0,
        "endLine": 829,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c4d4379_bb99d02a",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 829,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-10-20T12:55:07Z",
      "side": 1,
      "message": "Good catch! Thanks.",
      "parentUuid": "b56b42e2_506e1a0f",
      "range": {
        "startLine": 826,
        "startChar": 0,
        "endLine": 829,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1bd54c2f_8972267b",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 829,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c4d4379_bb99d02a",
      "range": {
        "startLine": 826,
        "startChar": 0,
        "endLine": 829,
        "endChar": 24
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa16d951_4b6341c8",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 917,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "is this necessary?",
      "range": {
        "startLine": 917,
        "startChar": 0,
        "endLine": 917,
        "endChar": 29
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1be946b_71d9bb79",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 917,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-10-20T15:43:44Z",
      "side": 1,
      "message": "Without this, there will be an empty file $OUT/odm/etc/selinux/odm_file_contexts.\n\nNeed to check if it\u0027s allowed.",
      "parentUuid": "fa16d951_4b6341c8",
      "range": {
        "startLine": 917,
        "startChar": 0,
        "endLine": 917,
        "endChar": 29
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f721c19_0171e789",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 917,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-20T17:56:40Z",
      "side": 1,
      "message": "BOARD_ODM_SEPOLICY_DIRS already gates the inclusion of this module in LOCAL_REQUIRED_MODULES, so if ti\u0027s not defined, we shouldn\u0027t be including this anyway.",
      "parentUuid": "e1be946b_71d9bb79",
      "range": {
        "startLine": 917,
        "startChar": 0,
        "endLine": 917,
        "endChar": 29
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c6d9360_6abab6fe",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 917,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Ah, I see. Done! Thanks.",
      "parentUuid": "4f721c19_0171e789",
      "range": {
        "startLine": 917,
        "startChar": 0,
        "endLine": 917,
        "endChar": 29
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e78b7393_8195643a",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 923,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "this is always true now",
      "range": {
        "startLine": 923,
        "startChar": 0,
        "endLine": 923,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a524f3b_abc0f9ba",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 923,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e78b7393_8195643a",
      "range": {
        "startLine": 923,
        "startChar": 0,
        "endLine": 923,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ece6ec9e_91a4b4ca",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1048,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "unnecessary",
      "range": {
        "startLine": 1048,
        "startChar": 0,
        "endLine": 1048,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02030b9e_3f565836",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1048,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ece6ec9e_91a4b4ca",
      "range": {
        "startLine": 1048,
        "startChar": 0,
        "endLine": 1048,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb73fd7c_216098fa",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1161,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "same as two above: remove",
      "range": {
        "startLine": 1161,
        "startChar": 0,
        "endLine": 1161,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "afeb3113_d29c34a8",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1161,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb73fd7c_216098fa",
      "range": {
        "startLine": 1161,
        "startChar": 0,
        "endLine": 1161,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d627c4b_10313ec4",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1370,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "and again",
      "range": {
        "startLine": 1370,
        "startChar": 0,
        "endLine": 1370,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaaefbae_d364ed9b",
        "filename": "Android.mk",
        "patchSetId": 15
      },
      "lineNbr": 1370,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d627c4b_10313ec4",
      "range": {
        "startLine": 1370,
        "startChar": 0,
        "endLine": 1370,
        "endChar": 34
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4092511_5e8a313a",
        "filename": "private/file_contexts",
        "patchSetId": 15
      },
      "lineNbr": 42,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2017-10-18T17:00:10Z",
      "side": 1,
      "message": "it would be nice if we could not need to add the rood-dir odm files",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 42,
        "endChar": 18
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47bfc44e_6bfd40a1",
        "filename": "private/file_contexts",
        "patchSetId": 15
      },
      "lineNbr": 42,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T10:39:20Z",
      "side": 1,
      "message": "OK, will fix it.\n\nAgree that odm files won\u0027t exist for pre-Treble devices (no early mount support).",
      "parentUuid": "d4092511_5e8a313a",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 42,
        "endChar": 18
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b95af071_f40028c5",
        "filename": "private/file_contexts",
        "patchSetId": 15
      },
      "lineNbr": 42,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-11-29T13:37:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47bfc44e_6bfd40a1",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 42,
        "endChar": 18
      },
      "revId": "d1ad6a393bef612d1fbb568526acba7f14128129",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}