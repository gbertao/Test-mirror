{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b05d62d8_3d8eb097",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2021-12-16T17:43:39Z",
      "side": 1,
      "message": "Thanks for the review.",
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "528e64d4_7efa5c4f",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-12-13T10:22:54Z",
      "side": 1,
      "message": "You aren\u0027t granting permission to anything at all to find this service, which means you can\u0027t have any clients.\nIs that intentional?",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e4fe822_1aa7d0ef",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-12-13T10:22:54Z",
      "side": 1,
      "message": "Nit: align with the others",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 62
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f5e9236_68553586",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2021-12-16T17:43:39Z",
      "side": 1,
      "message": "Do you mean https://googleplex-android-review.git.corp.google.com/c/platform/frameworks/base/+/16302285/19/core/res/AndroidManifest.xml which is being implemented in an internal CL, or something else is needed?",
      "parentUuid": "528e64d4_7efa5c4f",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d64b527_bdaae8e9",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2021-12-16T17:43:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e4fe822_1aa7d0ef",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 62
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "333fe646_0966a4ea",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-12-16T17:49:33Z",
      "side": 1,
      "message": "I meant selinux permissions rather than Android ones.\n\nIn order to call your service, whatever is calling it will need to be granted find access:\n\ngrant \u003csomething\u003e ambient_signal_service:service_manager find;\n\nAlternatively, you may want to give your type one of the standard attributes which does that automatically - system_api_service, app_api_service, etc.\n\nAt that point you\u0027ll need to demonstrate you have the right Android permission checks in place. (Right now it\u0027s perfectly secure since nobody can call it.)\n\nSee Hai Zhang\u0027s comment: https://googleplex-android-review.git.corp.google.com/c/platform/system/sepolicy/+/16434841/2..3/private/service.te#b1",
      "parentUuid": "4f5e9236_68553586",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c3da47c_08244b08",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2021-12-16T19:07:17Z",
      "side": 1,
      "message": "Done. Added app_api_service. Thanks.",
      "parentUuid": "333fe646_0966a4ea",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5569a10b_beac922b",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-12-20T11:53:13Z",
      "side": 1,
      "message": "Before opening this up to being called by any untrusted app, I\u0027d like to be sure there are permission checks in place.\nI had a look at your other CL, and it\u0027s not at all clear to me that they are. (See my comments there.)",
      "parentUuid": "8c3da47c_08244b08",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e2ecda1_8dfe3bf6",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2022-01-05T02:00:21Z",
      "side": 1,
      "message": "PWG asked us to do Role checking instead of permission checking for T. For U we\u0027ll add a new RuntimePermission and switch over.",
      "parentUuid": "5569a10b_beac922b",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b64cce6_38ab29ad",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-01-05T17:22:40Z",
      "side": 1,
      "message": "That\u0027s fine - I don\u0027t really mind what form the permission checks take as long as they exist in all the right places and ensure that untrusted apps can\u0027t abuse the service.\nBut as I mentioned over on the main CL I\u0027m not yet convinced that\u0027s true. I very much encourage you to start your security review - ideally that would happen at design time.",
      "parentUuid": "2e2ecda1_8dfe3bf6",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b8da886_d90df527",
        "filename": "private/service.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1060414
      },
      "writtenOn": "2022-01-19T20:30:31Z",
      "side": 1,
      "message": "Hi Alan, we\u0027ve passed the security review. Could you review the CL? Thanks. https://buganizer.corp.google.com/issues/213338409",
      "parentUuid": "3b64cce6_38ab29ad",
      "range": {
        "startLine": 1,
        "startChar": 41,
        "endLine": 1,
        "endChar": 84
      },
      "revId": "5d2b9d21878204fb13793f448ffccc44d8fea3a3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}