{
  "comments": [
    {
      "key": {
        "uuid": "7682236d_f271c155",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T17:42:25Z",
      "side": 1,
      "message": "if it\u0027s not true, this just shows up out of nowhere (no base_rules, no clear_vars), could mess stuff up.  Also sepolicy_neverallows won\u0027t be defined as a module, which I think would result in \"no known rule to make...\" below",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f2b0989_fb737df4",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2018-01-05T17:46:55Z",
      "side": 1,
      "message": "I wasn\u0027t sure how this variable worked.  Is the right fix just to put a copy of the \"LOCAL_MODULE :\u003d sepolicy_neverallows\" above this line?",
      "parentUuid": "7682236d_f271c155",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0748cbf4_b3ce43da",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T18:12:59Z",
      "side": 1,
      "message": "it should be sufficient to just leave off the else statement entirely.  LOCAL_BUILT_MODULE is a build variable included when you loaded base_rules.mk, and previous one cleared using clear_vars.  Assigning like this would affect whatever previous recipe was last declared (who knows).",
      "parentUuid": "3f2b0989_fb737df4",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aee11510_2d4be786",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2018-01-05T18:24:45Z",
      "side": 1,
      "message": "I was actually doing this an an earlier version of this patch, but Jeff and I thought it might cause problems when IGNORE_NEVERALLOWS is true (since other targets depend on sepolicy_neverallows, which is not defined).",
      "parentUuid": "0748cbf4_b3ce43da",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9da9e66_5ece109a",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T19:19:06Z",
      "side": 1,
      "message": "have you tested with both values?  With neverallow violations?  This shouldn\u0027t work at all actually since you\u0027re using sepolicy_neverallows as a variable which isn\u0027t defined anyway.",
      "parentUuid": "aee11510_2d4be786",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71dc7411_f0c1481f",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2018-01-05T19:22:52Z",
      "side": 1,
      "message": "Yes, I tested with all permutations, and it worked both ways....",
      "parentUuid": "c9da9e66_5ece109a",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8bd706a_7ff94133",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-01-05T23:48:31Z",
      "side": 1,
      "message": "This doesn\u0027t do anything. IIRC, it\u0027ll be parsed as adding 0 dependencies to the previously defined module (the phony module selinux_policy)",
      "parentUuid": "71dc7411_f0c1481f",
      "range": {
        "startLine": 295,
        "startChar": 0,
        "endLine": 295,
        "endChar": 22
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4fea5a3_afed401d",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 397,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T19:34:44Z",
      "side": 1,
      "message": "continuing conversation from above box: I\u0027m not sure why it worked.  I would have thought that this is an expansion of an undefined make variable (sepolicy_neverallows), which would lead effectively to a no-op (in both the true and false case).  I would have expected a neverallow violation to then not have the pre-treble error reporting (to never do the check you added above).\n\n+dwillemsen@ who knows more than I do.",
      "range": {
        "startLine": 397,
        "startChar": 4,
        "endLine": 397,
        "endChar": 24
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f1499ec_e015d8fa",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 397,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-01-05T23:48:31Z",
      "side": 1,
      "message": "This should always be empty, sepolicy_neverallows isn\u0027t a variable. You\u0027d need to save LOCAL_BUILT_MODULE above into sepolicy_neverallow.",
      "parentUuid": "c4fea5a3_afed401d",
      "range": {
        "startLine": 397,
        "startChar": 4,
        "endLine": 397,
        "endChar": 24
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6464f51_8487f1c4",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 402,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T17:42:25Z",
      "side": 1,
      "message": "this should probably be assigned to a PRIVATE_ variable (as should have POLICYVERS).",
      "range": {
        "startLine": 402,
        "startChar": 73,
        "endLine": 402,
        "endChar": 87
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "719a7b7a_81b0be72",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 402,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2018-01-05T17:46:55Z",
      "side": 1,
      "message": "You mean just name it PRIVATE_NEVERALLOW_ARG?  Does that have any special semantics or is it just a naming convention to aid readability?",
      "parentUuid": "b6464f51_8487f1c4",
      "range": {
        "startLine": 402,
        "startChar": 73,
        "endLine": 402,
        "endChar": 87
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dbdf5cde_e5e757da",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 402,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2018-01-05T18:12:59Z",
      "side": 1,
      "message": "Convention mostly, but using the PRIVATE_var with a target-specific variable actually has purpose: https://www.gnu.org/software/make/manual/html_node/Target_002dspecific.html#Target_002dspecific",
      "parentUuid": "719a7b7a_81b0be72",
      "range": {
        "startLine": 402,
        "startChar": 73,
        "endLine": 402,
        "endChar": 87
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ffcb815_57329295",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 402,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-01-05T23:48:31Z",
      "side": 1,
      "message": "PRIVATE_ is convention, but the other half is actually defining the private variable:\n\n  $(LOCAL_BUILT_MODULE): PRIVATE_NEVERALLOW_ARG :\u003d $(NEVERALLOW_ARG)",
      "parentUuid": "dbdf5cde_e5e757da",
      "range": {
        "startLine": 402,
        "startChar": 73,
        "endLine": 402,
        "endChar": 87
      },
      "revId": "f54cdfb6ce99f609940e44db9cc2741dfead9d3d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}