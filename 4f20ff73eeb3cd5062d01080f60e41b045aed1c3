{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1e6c3baa_351d2d95",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-06-16T08:43:37Z",
      "side": 1,
      "message": "Just curious, why the removal is needed?",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 44
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5acd238_8c56077a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2021-06-16T08:51:37Z",
      "side": 1,
      "message": "sepolicy is compiled from the following files:\n\n- Platform side policies: plat_sepolicy.cil, system_ext_sepolicy.cil, product_sepolicy.cil\n- Versioned vendor side policies: vendor_sepolicy.cil, odm_sepolicy.cil\n- Mapping files: {VER}.cil\n- Versioned platform public policies (installed to vendor): plat_pub_versioned.cil\n\nMapping file {VER}.cil only provides type to versioned type mapping. The attribute declaration statements will be in plat_pub_versioned.cil. So we remove the attribute declaration statements from the mapping file.",
      "parentUuid": "1e6c3baa_351d2d95",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 44
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b5bbf7e_16f2d620",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-06-16T09:42:44Z",
      "side": 1,
      "message": "Thanks for the detailed info.\n\nI was wondering why we added duplicate attributes in the built mapping file in the first place (normally it\u0027s 10000.0.cil on master and is 31.0.cil on sc-dev). Then require manual removal here.\n\nI just recalled that this is to prevent frequent compilation error on AOSP gerrit because the vendor.img is older and is a prebuilt.\n\nhttps://android-review.googlesource.com/c/platform/external/selinux/+/504956",
      "parentUuid": "a5acd238_8c56077a",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 44
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2dbad007_17785dd0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2021-06-16T10:35:55Z",
      "side": 1,
      "message": "Ah, you\u0027re right. I misunderstood. So, if system and vendor are in the same version, we have two identical attributes. I\u0027m not sure why?",
      "parentUuid": "2b5bbf7e_16f2d620",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 44
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e8f998e_cc6f2e77",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-06-16T11:10:43Z",
      "side": 1,
      "message": "Because in aosp gerrit, there is no vendor source (only has prebuilt vendor.img).\n\nhttps://android.googlesource.com/platform/manifest/+/refs/heads/master-with-phones/aosp-master-with-phones.xml#18\n\n\nWithout the duplication in the mapping file (on system.img), it will have build error for targets on AOSP gerrit.\ne.g., \nhttps://ci.android.com/builds/branches/aosp-master-with-phones/grid?\n\n\nBecause plat_pub_versioned.cil is in a prebuilt vendor.img does not contain this new type yet (until next manual update for the vendor.img, e.g., ag/14182088).",
      "parentUuid": "2dbad007_17785dd0",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 44
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4e3f59d_e324d221",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-06-17T19:49:35Z",
      "side": 1,
      "message": "If you haven\u0027t, can you also manually test that adding a new type results in a build error?",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 32,
        "endChar": 22
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a4d0e417_e5246cbf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2021-06-18T00:47:14Z",
      "side": 1,
      "message": "These types are detected by the build error, which don\u0027t exist in the fake prebuilt.\n\n    artd_service\n    power_stats_service\n    transformer_service",
      "parentUuid": "f4e3f59d_e324d221",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 32,
        "endChar": 22
      },
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d2dd040_a0e5d4c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1291338
      },
      "writtenOn": "2021-06-16T08:13:49Z",
      "side": 1,
      "message": "ping for review.",
      "revId": "4f20ff73eeb3cd5062d01080f60e41b045aed1c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}