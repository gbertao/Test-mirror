{
  "comments": [
    {
      "key": {
        "uuid": "23c0454e_a37fc47c",
        "filename": "private/file_contexts",
        "patchSetId": 3
      },
      "lineNbr": 318,
      "author": {
        "id": 1076123
      },
      "writtenOn": "2017-01-13T23:45:26Z",
      "side": 1,
      "message": "This seemed cleaner to me than /data/misc/bluetooth/hal/\n\nIs there a better way?",
      "range": {
        "startLine": 318,
        "startChar": 20,
        "endLine": 318,
        "endChar": 23
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_a399849e",
        "filename": "private/file_contexts",
        "patchSetId": 3
      },
      "lineNbr": 318,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "IMHO, we should start trying to put all the HAL home directories into one common subdirectory, rather than putting it in /data/misc. Part of this work involves drawing a bright line between our code and other code, and if we continue to dump everything into /data/misc the line is really hard to draw.\n\nHow about one of:\n\n  /data/vendor/hal/bluetoothhal\n  /data/hal/bluetoothhal\n  /data/vendor/bluetoothhal\n\nsspatil / smoreland: thoughts?\n\nAlso, who creates this directory? I don\u0027t see a corresponding *.rc entry with the mkdir.",
      "parentUuid": "23c0454e_a37fc47c",
      "range": {
        "startLine": 318,
        "startChar": 20,
        "endLine": 318,
        "endChar": 23
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_03c4f83d",
        "filename": "private/file_contexts",
        "patchSetId": 3
      },
      "lineNbr": 318,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:11:02Z",
      "side": 1,
      "message": "See also b/31091863#comment11 , which asks for dedicated directories for trebel HALs.",
      "parentUuid": "23c0454e_a399849e",
      "range": {
        "startLine": 318,
        "startChar": 20,
        "endLine": 318,
        "endChar": 23
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_0328784e",
        "filename": "private/hal_bluetooth_default.te",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "Since you\u0027re only adding entries to this directory, not deleting anything, \"ra_dir_perms\" feels more robust. This is defined in system/sepolicy/public/global_macros.\n\nYou might also consider rw_dir_perms, if you intended to delete entries from this directory, not just add entries.",
      "range": {
        "startLine": 12,
        "startChar": 52,
        "endLine": 12,
        "endChar": 77
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_833c889b",
        "filename": "private/hal_bluetooth_default.te",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "replace with \"w_file_perms\". This is defined in system/sepolicy/public/global_macros and includes slightly more permissions to make this more robust.",
      "range": {
        "startLine": 13,
        "startChar": 53,
        "endLine": 13,
        "endChar": 69
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_235494bf",
        "filename": "public/app.te",
        "patchSetId": 3
      },
      "lineNbr": 399,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "Perhaps we should be stronger here? How about \"domain\" instead of \"appdomain\". That will prevent other random processes from using this directory, not just processes spawned by zygote.",
      "range": {
        "startLine": 399,
        "startChar": 13,
        "endLine": 399,
        "endChar": 22
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_a347c40d",
        "filename": "public/hal_bluetooth.te",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "consider \"ra_dir_perms\" if you only ever intended to add files to this directory, or \"rw_dir_perms\" if you intend to add/delete files.",
      "range": {
        "startLine": 20,
        "startChar": 47,
        "endLine": 20,
        "endChar": 72
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_e341bcf8",
        "filename": "public/hal_bluetooth.te",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "w_file_perms for robustness.",
      "range": {
        "startLine": 21,
        "startChar": 48,
        "endLine": 21,
        "endChar": 64
      },
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_a3f5049e",
        "filename": "public/installd.te",
        "patchSetId": 3
      },
      "lineNbr": 87,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "This shouldn\u0027t be necessary. installd only creates directories for Android apps. This is needed for bluetooth_data_file, since that label is also used for the labels for the bluetooth files in /data/data/com.android.bluetooth/\n\nbluetoothhal_data_file isn\u0027t created by installd",
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23c0454e_c3f200b3",
        "filename": "public/installd.te",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2017-01-14T00:08:13Z",
      "side": 1,
      "message": "see comment 87. This is used to allow installd to create files within the app\u0027s home directory, and should be unneeded for bluetoothhal_data_file.",
      "revId": "abc853cca4a489ab12c7bead3bef6cf08e33d463",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}