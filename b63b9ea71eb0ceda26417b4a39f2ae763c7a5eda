{
  "comments": [
    {
      "key": {
        "uuid": "cc383663_b91910a1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-11T00:10:58Z",
      "side": 1,
      "message": "process runs/boots/registers, right?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 7
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e1149e1_623fcbbc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-11T01:29:31Z",
      "side": 1,
      "message": "Additional changes would be required to get this to run on a specific target. I have already tested those out in ag/12287125 but this only contains a portion of those changes.",
      "parentUuid": "cc383663_b91910a1",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 7
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a27109b4_3db06909",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2020-08-10T23:47:06Z",
      "side": 1,
      "message": "How does this relate to ag/12295668?",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9235d98d_fa29b9e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-10T23:51:27Z",
      "side": 1,
      "message": "I\u0027m doing my best to move it to aosp. Also due to the difficulty of dealing with reuse of hal_power_stats sepolicy type smoreland@ asked me to try just creating a new sepolicy type associated with this HAL. Doing this (hopefully) means I don\u0027t need to make all of the other device specific changes, including modifying con_monitor.",
      "parentUuid": "a27109b4_3db06909",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01c3081b_be3a3911",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2020-08-11T00:00:08Z",
      "side": 1,
      "message": "So the point of this is simply to make it easier to move the other CL to AOSP?  What exactly was the \"difficulty\" you mentioned?  The existing known vlocker for cherry-picking the CLs, or is there something else?",
      "parentUuid": "9235d98d_fa29b9e1",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3718e4e1_373432a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-11T00:06:32Z",
      "side": 1,
      "message": "No difficulty moving to AOSP. The difficulty mentioned involved changes to device/google/*-sepolicy that are included in the topic of ag/12295668.",
      "parentUuid": "01c3081b_be3a3911",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e95600c2_3565bb2b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2020-08-11T00:11:55Z",
      "side": 1,
      "message": "Right, so the difficulty was moving the topic to AOSP because of merge conflicts?",
      "parentUuid": "3718e4e1_373432a0",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23d0e3f2_4ad54575",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-11T01:29:31Z",
      "side": 1,
      "message": "There were multiple problems involving merge conflicts as well as duplicated sepolicy types.",
      "parentUuid": "e95600c2_3565bb2b",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6556ffa5_4b0f1c25",
        "filename": "public/attributes",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-11T00:10:58Z",
      "side": 1,
      "message": "re-use this attribute (the client/server can be allowed to get/register (respectively) both the AIDL and HIDL services)\n\nWe want to avoid \u0027power_stats\u0027 vs \u0027powerstats\u0027 meaning \"HIDL Power Stats\" and \"AIDL Power Stats\". It\u0027s too subtle a typographical change for such an important difference (and the convention is to combine them).",
      "range": {
        "startLine": 331,
        "startChar": 0,
        "endLine": 331,
        "endChar": 27
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c19ce6c_e01eab93",
        "filename": "public/attributes",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-11T01:29:31Z",
      "side": 1,
      "message": "I wasn\u0027t able to combine them. In fact I already have CLs on internal master doing exactly this (see ag/12295668), which unfortunately resulted in a duplicated type name with https://googleplex-android-review.git.corp.google.com/c/device/google/coral-sepolicy/+/12312688/3/vendor/google/vndservice.te. I was not able to change that type name to another without encountering other problems involving con_monitor. I am currently blocked on the con_monitor team fixing this https://b.corp.google.com/issues/162964335 and this CL is an attempt to unblock myself by creating a new type.",
      "parentUuid": "6556ffa5_4b0f1c25",
      "range": {
        "startLine": 331,
        "startChar": 0,
        "endLine": 331,
        "endChar": 27
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a9df4f0_6067471d",
        "filename": "public/hal_powerstats.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-11T00:10:58Z",
      "side": 1,
      "message": "so these rules would then be about hal_power_stats_server (in the existing file)",
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad5dfdfd_f9cd427c",
        "filename": "public/service.te",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-11T00:10:58Z",
      "side": 1,
      "message": "but to fix your naming problem ðŸ˜Š you can call this \"hal_power_stats_vendor_service\" or \"hal_power_stats_platform_service\" or something like that",
      "range": {
        "startLine": 217,
        "startChar": 5,
        "endLine": 217,
        "endChar": 27
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46345cc5_d243f5bc",
        "filename": "public/service.te",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-08-11T04:15:04Z",
      "side": 1,
      "message": "I did what you asked (I think) in https://android-review.googlesource.com/c/platform/system/sepolicy/+/1395810 but it fails with the following error:\n\nlibsepol.report_failure: neverallow on line 654 of system/sepolicy/public/domain\n.te (or line 12179 of policy.conf) violated by allow con_monitor_app hal_power_s\ntats_vendor_service:service_manager { find };\nlibsepol.check_assertions: 1 neverallow failures occurred\nError while expanding policy\n\nI added you as a reviewer on that CL to see if it is something that is resolvable.",
      "parentUuid": "ad5dfdfd_f9cd427c",
      "range": {
        "startLine": 217,
        "startChar": 5,
        "endLine": 217,
        "endChar": 27
      },
      "revId": "b63b9ea71eb0ceda26417b4a39f2ae763c7a5eda",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}