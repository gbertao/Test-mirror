{
  "comments": [
    {
      "key": {
        "uuid": "fe85895f_033c6ec1",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-15T17:33:22Z",
      "side": 1,
      "message": "|system/vendor/odm technically (although I don\u0027t know of any devices that depend on this)",
      "range": {
        "startLine": 350,
        "startChar": 16,
        "endLine": 350,
        "endChar": 17
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d921343_4e7b6aef",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-10-16T10:21:24Z",
      "side": 1,
      "message": "Yup, not heard of this yet.\nWe can add that when needed in the future.\n\nps: vendor.img was mandated since Oreo.",
      "parentUuid": "fe85895f_033c6ec1",
      "range": {
        "startLine": 350,
        "startChar": 16,
        "endLine": 350,
        "endChar": 17
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09f6162c_29beb3f9",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-15T17:33:22Z",
      "side": 1,
      "message": "odm|vendor|vendor/odm (and maybe |system/vendor/odm as well)",
      "range": {
        "startLine": 353,
        "startChar": 6,
        "endLine": 353,
        "endChar": 12
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97deb9a7_1196441b",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1149384
      },
      "writtenOn": "2018-10-15T17:56:57Z",
      "side": 1,
      "message": "From https://source.android.com/devices/input/input-device-configuration-files , we only look at /odm and /vendor for these.\nDo we really need to allow /vendor/odm? I feel like this just complicates the situation.",
      "parentUuid": "09f6162c_29beb3f9",
      "range": {
        "startLine": 353,
        "startChar": 6,
        "endLine": 353,
        "endChar": 12
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf7ca92e_20cbc89c",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-10-16T10:21:24Z",
      "side": 1,
      "message": "Having the fallback path of /odm -\u003e /vendor/odm is necessary (uploaded go/oag/790140 to fix it).\n\nBecause we can just simply set \"LOCAL_ODM_MODULE :\u003d true\" in an Android.mk or \"device-specific: true\" in an Android.bp, without need to worry about if a device has /odm partition or not.\n\nhttps://android.googlesource.com/platform/build/soong/+/pie-dev/androidmk/cmd/androidmk/android.go#171\n  \n  \nUsually, we won\u0027t require all device to have /odm partition.\nWithout \"/odm -\u003e /vendor/odm\" symlink, we\u0027ll have to write complex logic in an Android.mk:\n\nifeq ($(BOARD_USES_ODMIMAGE),true)\n  LOCAL_ODM_MODULE :\u003d true\nelse\n  LOCAL_VENDOR_MODULE :\u003d true   # if no /odm partition, put this file in /vendor instead.\nendif\n\n\nThis is similar to /product -\u003e /system/product on a device without a /product partition.\nWhere we can just set LOCAL_PRODUCT_MODULE :\u003d true for a module.\nhttps://android.googlesource.com/platform/build/+/pie-dev/core/envsetup.mk#290\n\n/product_services -\u003e /system/product_services also has similar logic\nhttps://android.googlesource.com/platform/build/+/master/core/envsetup.mk#192",
      "parentUuid": "97deb9a7_1196441b",
      "range": {
        "startLine": 353,
        "startChar": 6,
        "endLine": 353,
        "endChar": 12
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11b2a4bc_54469366",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1149384
      },
      "writtenOn": "2018-10-16T14:29:40Z",
      "side": 1,
      "message": "Ok thanks, so as I understand it, we don\u0027t need to modify input flinger code or the docs, since this would be a symlink to /odm, which we are already checking.",
      "parentUuid": "cf7ca92e_20cbc89c",
      "range": {
        "startLine": 353,
        "startChar": 6,
        "endLine": 353,
        "endChar": 12
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f4f86fc_2ddfa43a",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 353,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-10-16T14:48:34Z",
      "side": 1,
      "message": "Correct, the symlink is to eliminate the burden of client code to deal with /vendor/odm.\n\nBut SELinux file_context lookup uses canonical path, so we have to specify /vendor/odm here.",
      "parentUuid": "11b2a4bc_54469366",
      "range": {
        "startLine": 353,
        "startChar": 6,
        "endLine": 353,
        "endChar": 12
      },
      "revId": "3639f57960811d6a41ca1968dea70a4315d5bbec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}