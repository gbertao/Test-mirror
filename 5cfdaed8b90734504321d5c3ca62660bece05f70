{
  "comments": [
    {
      "key": {
        "uuid": "30b088be_a162854f",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-15T18:19:03Z",
      "side": 1,
      "message": "can we not use impl? This is kind of confusing since we also have android.hardware.light@2.0-impl",
      "range": {
        "startLine": 230,
        "startChar": 88,
        "endLine": 230,
        "endChar": 92
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_c1030173",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-15T18:19:03Z",
      "side": 1,
      "message": "can we use default instead?",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_a14cc5ba",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-11-15T18:29:01Z",
      "side": 1,
      "message": "what\u0027s the difference between the two?  Why is this one named -service?  If -impl just denotes the implementation that is non-platform, then that should be ok.",
      "parentUuid": "30b088be_c1030173",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_dc852af0",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-15T19:00:19Z",
      "side": 1,
      "message": "So, if you have a passthrough implementation, -impl will contain the implementation. Then we\u0027ll have a -service which dlopens that implementation and can serve it in binderized mode (if that is desired for some devices, there are reasons--talk to me offline).\n\nNormally (and moving forward), there will only be a -service.",
      "parentUuid": "30b088be_a14cc5ba",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_b7be4497",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-11-15T22:58:23Z",
      "side": 1,
      "message": "So there should be no name conflict for the selinux policy, since -impl just refers to a .so right? If we\u0027ll be getting rid of it going forward, would rather leave as-is.  Device-policy will have to specify a new name for their hal processes too, and I imagine using impl is probably a reasonable way to go.  Ultimately it doesn\u0027t matter, we just need to choose one for the default implementations and device-policy can do whatever it wants.",
      "parentUuid": "30b088be_dc852af0",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_5767d060",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-15T23:05:22Z",
      "side": 1,
      "message": "No, it will just be confusing.\n\nHow about just calling it hal_light_attribute_exec?\n\ndflt_impl doesn\u0027t seem to be standard terminology anyway:\n\n~/android/aosp/system/sepolicy$ grep -ri \"dflt_impl\" . \u003d\u003e 0 results",
      "parentUuid": "30b088be_b7be4497",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_b71ac496",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-11-15T23:22:56Z",
      "side": 1,
      "message": "hal_light_attribute_exec would be particularly misleading since it would need to correspond to hal_light_attribute, which would actually be just the opposite: the concrete type that implements the hal_light attribute.\n\nI\u0027m ok with hal_light_default and hal_light_default_exec if that\u0027s desired.  device-specific changes will have their own names anyway.",
      "parentUuid": "30b088be_5767d060",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_5e12841c",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-16T17:10:43Z",
      "side": 1,
      "message": "Let\u0027s do that then :)\n\nAlso, why do we need to assign this to /system/bin/hw/android.hardware.light@2.0-service now?\n\nIn the degenerate case, there could be a /vendor/bin/hw/all-hals-service. Should we still include references to the \"-service\" binaries here?",
      "parentUuid": "30b088be_b71ac496",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_d19d05f9",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-11-16T17:43:10Z",
      "side": 1,
      "message": "Every HAL will have an underlying process which is responsible for fulfilling the client requests.  These processes must be labeled with a type that has the corresponding HAL attributes, and in order to get into that new type, the corresponding executables need a label.  Not providing this label now would prevent any process from running as hal_light_default, and so anything relying on that would be broken.  It will be up to the provider of each HAL implementation to decide how to label the corresponding process and creating this transition.",
      "parentUuid": "30b088be_5e12841c",
      "range": {
        "startLine": 230,
        "startChar": 83,
        "endLine": 230,
        "endChar": 87
      },
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_e1cabd2f",
        "filename": "private/hal_light.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-11-15T18:11:18Z",
      "side": 1,
      "message": "we might/probably will want to also introduce a \"hal_type\" attribute.",
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b088be_e1571d70",
        "filename": "private/hal_light.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-11-15T18:19:03Z",
      "side": 1,
      "message": "+3\n\nb/32905206",
      "parentUuid": "30b088be_e1cabd2f",
      "revId": "5cfdaed8b90734504321d5c3ca62660bece05f70",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}