{
  "comments": [
    {
      "key": {
        "uuid": "9b8ecfd9_362951a7",
        "filename": "private/app.te",
        "patchSetId": 2
      },
      "lineNbr": 488,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-05-16T04:38:19Z",
      "side": 1,
      "message": "We generally group neverallow rules at the bottom of a file. So these allow rules should go above those.",
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7e2c189_c37b7ca7",
        "filename": "private/app.te",
        "patchSetId": 2
      },
      "lineNbr": 488,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2017-05-16T10:40:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b8ecfd9_362951a7",
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26a14489_869eb854",
        "filename": "private/app.te",
        "patchSetId": 2
      },
      "lineNbr": 490,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-05-16T04:38:19Z",
      "side": 1,
      "message": "This (poorly named) macro includes the \"write\" permission. We discussed not granting write.",
      "range": {
        "startLine": 490,
        "startChar": 0,
        "endLine": 490,
        "endChar": 19
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6a7ac0a_0931302e",
        "filename": "private/app.te",
        "patchSetId": 2
      },
      "lineNbr": 490,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2017-05-16T10:40:18Z",
      "side": 1,
      "message": "It seems like we\u0027ll need write in order to have better accounting in tombstoned (we will need to know when the app has *finished* with its trace) and to make things more consistent with the native crash dumping flow.\n\nThe app only writes a marker to indicate that it has started a trace and another to indicate that it has finished the trace. In other words, no trust is necessary. Things like the PID will be obtained from trusted sources (the kernel via SO_PEERCRED).\n\nIMO - the flow will become considerably more complicated if we prevent writes, since it\u0027s hard to detect when the client has finished dumping traces. (We\u0027ll either have to use inotify or poll on the socket FD, both of which seem prone to errors.)",
      "parentUuid": "26a14489_869eb854",
      "range": {
        "startLine": 490,
        "startChar": 0,
        "endLine": 490,
        "endChar": 19
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57b6d6ba_392f6eaf",
        "filename": "private/app.te",
        "patchSetId": 2
      },
      "lineNbr": 490,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-05-16T14:26:11Z",
      "side": 1,
      "message": "ack",
      "parentUuid": "e6a7ac0a_0931302e",
      "range": {
        "startLine": 490,
        "startChar": 0,
        "endLine": 490,
        "endChar": 19
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d014da1b_2eed0684",
        "filename": "public/tombstoned.te",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-05-16T04:38:19Z",
      "side": 1,
      "message": "Does tombstoned actually require read permissions to these files?",
      "range": {
        "startLine": 22,
        "startChar": 36,
        "endLine": 22,
        "endChar": 53
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3da9a169_c9211b4f",
        "filename": "public/tombstoned.te",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2017-05-16T10:40:18Z",
      "side": 1,
      "message": "Done. No, it does not. It does need getattr in order to purge older entries.\n\nPS: I was a little surprised to see that we\u0027re already granting it a lot of anr_data_file related permissions. I can\u0027t see why it needed them before these changes.",
      "parentUuid": "d014da1b_2eed0684",
      "range": {
        "startLine": 22,
        "startChar": 36,
        "endLine": 22,
        "endChar": 53
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a79bb362_19200975",
        "filename": "public/tombstoned.te",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-05-16T14:26:11Z",
      "side": 1,
      "message": "Do you have time to clean those up? I would like to get this locked down. Should we add a neverallow for read access to anr_data_file?",
      "parentUuid": "3da9a169_c9211b4f",
      "range": {
        "startLine": 22,
        "startChar": 36,
        "endLine": 22,
        "endChar": 53
      },
      "revId": "534cc0e251fde3501e6eb73cbe9b0ad67389e3bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}