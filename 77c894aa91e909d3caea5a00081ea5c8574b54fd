{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "eddbee82_8cee92fb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T14:27:07Z",
      "side": 1,
      "message": "I\u0027m about to rename VirtManager to VirtualizationService, hence the weird mix of names here.",
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1797070d_99067e08",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-05-20T14:51:58Z",
      "side": 1,
      "message": "What kind of data is stored here? Should this directory be per-user?",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "133e9fcd_207d23b0",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T15:01:20Z",
      "side": 1,
      "message": "Composite disk images for VMs, created on behalf of clients. A client will pass a file descriptor for each partition, then VirtualizationService will use `mk_cdisk` to create a composite disk image that refers to all of them, plus a header and footer. And then possibly a QCOW2 image wrapping that. VirtualizationService will then open these files and pass them to crosvm by file descriptor. VirtualizationService will remove the files when the VM exits.",
      "parentUuid": "1797070d_99067e08",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "158c3855_056b3596",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-05-20T16:30:31Z",
      "side": 1,
      "message": "But should it be segregated per (Android) user? (ie put under /data/misc_de/N, or even /data/misc_ce/N).\n\nI suspect virtmanager  will just segregate the data for every client anyway, and only runs in user 0, so no. But we need to ensure e.g. that app X in user 0 and app X in user 10 are treated as different clients.",
      "parentUuid": "133e9fcd_207d23b0",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c112fee0_6a07fe12",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T16:54:41Z",
      "side": 1,
      "message": "I\u0027m not sure what these directories are used for, but I don\u0027t think it\u0027s necessary. There will be only one instance of VirtualizationService running on a device, and each VM is already handled independently. As far as it is concerned, each call to `startVm` is a separate client, and nothing from that is shared with any other client (unless the client chooses to explicitly share the returned IVirtualMachine binder object with some other process).",
      "parentUuid": "158c3855_056b3596",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3b04efc_68334297",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-05-20T14:37:31Z",
      "side": 1,
      "message": "Long name is long\nvirtmanager_data_file ?\n\n(Arguably the directory name should be /data/misc/virtmanager - see .../vold, /iorapd for analogous usage.)",
      "range": {
        "startLine": 61,
        "startChar": 5,
        "endLine": 61,
        "endChar": 36
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f65a281_6c755924",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T15:01:20Z",
      "side": 1,
      "message": "As per my comment above, the plan is to rename VirtManager to VirtualizationService because some people don\u0027t like VirtManager, so I\u0027m using the new name already here. Is there a problem with long names?",
      "parentUuid": "d3b04efc_68334297",
      "range": {
        "startLine": 61,
        "startChar": 5,
        "endLine": 61,
        "endChar": 36
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bfd40412_059ec4d8",
        "filename": "private/file.te",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-05-20T15:39:08Z",
      "side": 1,
      "message": "Well, they\u0027re stored as-is on the disk. So that\u0027s literally costing several bytes!",
      "parentUuid": "8f65a281_6c755924",
      "range": {
        "startLine": 61,
        "startChar": 5,
        "endLine": 61,
        "endChar": 36
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7623a28a_eb2cdbd0",
        "filename": "private/virtmanager.te",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2021-05-20T14:37:31Z",
      "side": 1,
      "message": "This label should be just for the virtmanager executable itself.\nI think you can just use system_file:file here.",
      "range": {
        "startLine": 17,
        "startChar": 18,
        "endLine": 17,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "daaeb178_3bb3dde9",
        "filename": "private/virtmanager.te",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T15:01:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7623a28a_eb2cdbd0",
      "range": {
        "startLine": 17,
        "startChar": 18,
        "endLine": 17,
        "endChar": 34
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a6fdc35_2d1d862e",
        "filename": "private/virtmanager.te",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-05-20T14:51:58Z",
      "side": 1,
      "message": "might as well have this be create_dir_perms so that virtmanager can create subdirs.",
      "range": {
        "startLine": 24,
        "startChar": 54,
        "endLine": 24,
        "endChar": 66
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "938efc57_26e443bd",
        "filename": "private/virtmanager.te",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2021-05-20T15:01:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a6fdc35_2d1d862e",
      "range": {
        "startLine": 24,
        "startChar": 54,
        "endLine": 24,
        "endChar": 66
      },
      "revId": "77c894aa91e909d3caea5a00081ea5c8574b54fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}