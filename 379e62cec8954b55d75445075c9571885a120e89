{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "02712a0e_25b253d7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-09-26T10:15:55Z",
      "side": 1,
      "message": "Needs the permission in order to avoid getting the permission denied is a bit circular.\nWhy does it need to read current profile files?",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 57
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17651055_5b04f453",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-09-26T10:42:22Z",
      "side": 1,
      "message": "This is needed for profile-guided compilation: when ART Services compiles an app, it uses the information in current profiles to determine which classes and methods to compile.\n\nSince there can be multiple current profiles, in practice, it merges the current profiles into a \"reference profile\" and passes that to the compiler.",
      "parentUuid": "02712a0e_25b253d7",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 57
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c31ac296_e587661f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-09-26T10:43:22Z",
      "side": 1,
      "message": "Can you put that in the commit message?",
      "parentUuid": "17651055_5b04f453",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 57
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b2361ef_8f5641cc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-09-26T10:54:44Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "c31ac296_e587661f",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 9,
        "endChar": 57
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20cc975b_54571d0b",
        "filename": "private/artd.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-09-26T10:43:22Z",
      "side": 1,
      "message": "Oh wait I didn\u0027t notice this on first pass. (And it\u0027s not mentioned in the commit message.)\n\nWhy do you need this?",
      "range": {
        "startLine": 3,
        "startChar": 19,
        "endLine": 3,
        "endChar": 36
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6c27d2e_03558685",
        "filename": "private/artd.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-09-26T10:53:27Z",
      "side": 1,
      "message": "Current profile files seem to have MLS restrictions. (Note `c512,c768` in the denials in the commit message.)\n\nUpdated the commit message to mention this.",
      "parentUuid": "20cc975b_54571d0b",
      "range": {
        "startLine": 3,
        "startChar": 19,
        "endLine": 3,
        "endChar": 36
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e1cab09_b7555a76",
        "filename": "private/artd.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2022-09-26T11:07:31Z",
      "side": 1,
      "message": "Yeah, that\u0027s intentional. There\u0027s 2 ways to handle it:\n1. Run a separate version of artd in each user, with the appropriate categories.\n2. Run one version across all users.\n\n1 is often more appropriate for apps, whereas 2 is often more appropriate for system processes like this.\n\nBut if you are taking option 2, you need to be very careful that you don\u0027t leak any information between users - e.g. profile data from one user to another.\n\nI assume you\u0027re taking account of that?",
      "parentUuid": "a6c27d2e_03558685",
      "range": {
        "startLine": 3,
        "startChar": 19,
        "endLine": 3,
        "endChar": 36
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1706807d_f13ed835",
        "filename": "private/artd.te",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-09-26T11:31:21Z",
      "side": 1,
      "message": "Yes, we are being careful not to leak information. The reference profile merged from current profiles is only readable by that appid (the permissions are `rw-r-----` and the owners are `u0_aXXX:all_aXXX`, where `XXX` is the appid).  The compilation artifacts derived from the reference profile is only readable by that appid too (the permissions are `rw-r-----` and the owners are `system:all_aXXX`).",
      "parentUuid": "5e1cab09_b7555a76",
      "range": {
        "startLine": 3,
        "startChar": 19,
        "endLine": 3,
        "endChar": 36
      },
      "revId": "379e62cec8954b55d75445075c9571885a120e89",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}