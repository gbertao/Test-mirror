{
  "comments": [
    {
      "key": {
        "uuid": "fecf756b_73545ca2",
        "filename": "private/system_server.te",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2020-02-05T21:28:30Z",
      "side": 1,
      "message": "Currently, this attribute is assigned to statsd. Please see https://android.googlesource.com/platform/system/sepolicy/+/df701f3e45aa0614d15a847012e21dbab89ebe4d/private/statsd.te#2 where this attribute is defined, and https://android.googlesource.com/platform/system/sepolicy/+/df701f3e45aa0614d15a847012e21dbab89ebe4d/public/stats_service_server.te where this attribute is used.\n\nTo prevent race conditions and avoid confusion where multiple processes compete to add the same service, the \"add_hwservice\" macro is designed to enforce the architectural constraint that only one process can add a service. See https://android.googlesource.com/platform/system/sepolicy/+/df701f3e45aa0614d15a847012e21dbab89ebe4d/public/te_macros#624 . However, the use of the attribute here inhibits the check and allows mutiple processes to add the same service.\n\nIf system_server is the intended process for adding this service, then the attribute assignment in statsd.te should be deleted.",
      "revId": "e98e76cbdb015d111d20a6811d8d9934ae420846",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca699209_da2f476a",
        "filename": "private/system_server.te",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1258293
      },
      "writtenOn": "2020-02-05T21:36:39Z",
      "side": 1,
      "message": "Fully agreed but that will break internal master. So I think we have to do this in a staged manner.\n\nAre you OK with proceeding with your suggested change first of selinux in internal master and cherrypicking that into AOSP? We can also do this in AOSP all together but that may cause auto-merger issues.\n\nLet us know. Thank you!",
      "parentUuid": "fecf756b_73545ca2",
      "revId": "e98e76cbdb015d111d20a6811d8d9934ae420846",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6d89f15_937e05f7",
        "filename": "private/system_server.te",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2020-02-05T21:40:42Z",
      "side": 1,
      "message": "Ya, let\u0027s check it into internal master first then cherrypick to AOSP.\n\nThanks!",
      "parentUuid": "ca699209_da2f476a",
      "revId": "e98e76cbdb015d111d20a6811d8d9934ae420846",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}