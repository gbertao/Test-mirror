{
  "comments": [
    {
      "key": {
        "uuid": "5a427b4d_079c9c53",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 230,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-12-12T22:57:10Z",
      "side": 1,
      "message": "nit: can you make the spacing consistent with the other lines (just add two spaces, I don\u0027t care the graphics hals are off)",
      "range": {
        "startLine": 230,
        "startChar": 60,
        "endLine": 230,
        "endChar": 62
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a427b4d_2a3d25ee",
        "filename": "private/file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 230,
      "author": {
        "id": 1097918
      },
      "writtenOn": "2016-12-12T23:21:36Z",
      "side": 1,
      "message": "will do",
      "parentUuid": "5a427b4d_079c9c53",
      "range": {
        "startLine": 230,
        "startChar": 60,
        "endLine": 230,
        "endChar": 62
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a427b4d_0dbcb666",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-12-13T19:33:18Z",
      "side": 1,
      "message": "gatekeeperd and hal_gatekeeper_default are both implementing this HAL?",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a756307_5a5b4111",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1097918
      },
      "writtenOn": "2016-12-14T17:21:42Z",
      "side": 1,
      "message": "correct;\nfor different platforms;\ngatekeeperd is impelmenting hal only for legacy devices, wher e hal_gatekeeper_default does not run as a separate process;\nhal_gatekeeper_default implements hal for new devices only;",
      "parentUuid": "5a427b4d_0dbcb666",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a5073f1_2017b40b",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-12-16T18:55:52Z",
      "side": 1,
      "message": "Ok.  It\u0027d be nice to (and we should) move gatekeeperd into the private sepolicy (effectively hiding it from device-specific policy) and then requiring devices to interact with it via hal_gatekeeper. There are a few instances where this will be problematic, since gatekeeperd is directly referred to in device-specific policy in a few places:\n\"cs/gatekeeperd f:sepolicy/ f:device/\"\n\nbut those accesses should be fixed, since we shouldn\u0027t have the platform relying on non-platform properties or calling into non-HAL device-specific daemons. +malchev@ to verify or refute this assertion.",
      "parentUuid": "1a756307_5a5b4111",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a5073f1_00db9039",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-12-16T19:12:18Z",
      "side": 1,
      "message": "Actually I don\u0027t think we can do that, since gatekeeperd is the framework\u0027s interface to the HAL, so non-platform policy needs to know about its existence. \u003d/",
      "parentUuid": "9a5073f1_2017b40b",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a5073f1_0bcad13e",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1097918
      },
      "writtenOn": "2016-12-16T19:14:50Z",
      "side": 1,
      "message": "one clarification: gatekeeperd is going to be present on both new and legacy systems, but it\u0027s behavior is different:\non legacy systems it has to implement HAL, on new systems it has to bind to HAL; in both cases it exports public binder API used by GatekeeperService.\nshould it still be moved to private ?",
      "parentUuid": "9a5073f1_2017b40b",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7a2c67b_49918531",
        "filename": "public/gatekeeperd.te",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-12-20T01:02:01Z",
      "side": 1,
      "message": "The problem is in the way I\u0027ve set up the public/private split.  The way it\u0027s set up right now, the policy associated with the hal attribute is actually shipped with the device.  Since the hal, regardless of where it is implemented, needs to be able to talk to gatekeeprd, the policy allowing that needs to be present in the hal_gatekeeper attribute, and thus the knowledge of the gatekeeperd type as well.\n\nSo unless I change this (might do), I think it has to remain public.",
      "parentUuid": "9a5073f1_0bcad13e",
      "range": {
        "startLine": 1,
        "startChar": 18,
        "endLine": 1,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a427b4d_6a78cd2f",
        "filename": "public/hal_gatekeeper.te",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-12-12T22:57:10Z",
      "side": 1,
      "message": "is this too general? Also, do you really need this? I haven\u0027t seen anyone else need it.",
      "range": {
        "startLine": 8,
        "startChar": 21,
        "endLine": 8,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a427b4d_6a2b2daf",
        "filename": "public/hal_gatekeeper.te",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1097918
      },
      "writtenOn": "2016-12-12T23:21:36Z",
      "side": 1,
      "message": "I\u0027ve seen the \"denied\" messages without this rule, but it seemed to work with or without it. I believe it is the right thing to declare this as we in fact need this access.",
      "parentUuid": "5a427b4d_6a78cd2f",
      "range": {
        "startLine": 8,
        "startChar": 21,
        "endLine": 8,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7a2c67b_26d558fc",
        "filename": "public/hal_gatekeeper.te",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2016-12-20T00:51:27Z",
      "side": 1,
      "message": "Yeah, but we don\u0027t want to give it access to all of system_file, right?",
      "parentUuid": "5a427b4d_6a2b2daf",
      "range": {
        "startLine": 8,
        "startChar": 21,
        "endLine": 8,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7a2c67b_869c4c55",
        "filename": "public/hal_gatekeeper.te",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1097918
      },
      "writtenOn": "2016-12-20T00:54:52Z",
      "side": 1,
      "message": "why not; these are libraries under /system/lib and system/lib/hw; nothing more; this is to be able to load .so that has dynamic load dependencies on other .so; don\u0027t believe it needs to be more specific.",
      "parentUuid": "d7a2c67b_26d558fc",
      "range": {
        "startLine": 8,
        "startChar": 21,
        "endLine": 8,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7a2c67b_2990c92a",
        "filename": "public/hal_gatekeeper.te",
        "patchSetId": 5
      },
      "lineNbr": 8,
      "author": {
        "id": 1026058
      },
      "writtenOn": "2016-12-20T01:02:01Z",
      "side": 1,
      "message": "this is an implementation detail, though, which should be in the hal implementation\u0027s private policy.",
      "parentUuid": "d7a2c67b_869c4c55",
      "range": {
        "startLine": 8,
        "startChar": 21,
        "endLine": 8,
        "endChar": 32
      },
      "revId": "8e45e4fdb2f70d5a7a7664ee50a540c308ddd22c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}