{
  "comments": [
    {
      "key": {
        "uuid": "67606f2d_5e6c3fc5",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 2,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-08-10T21:15:24Z",
      "side": 1,
      "message": "This is a regex so periods need to be escaped with \"\\\".",
      "range": {
        "startLine": 2,
        "startChar": 8,
        "endLine": 2,
        "endChar": 9
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2205b78e_68dcb506",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 2,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:13:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "67606f2d_5e6c3fc5",
      "range": {
        "startLine": 2,
        "startChar": 8,
        "endLine": 2,
        "endChar": 9
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f224442_36aa766b",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-08-10T21:15:24Z",
      "side": 1,
      "message": "Should these three lines just be collapsed to:\n/bin/(/.*)?  u:object_r:gki_apex_prepostinstall_exec:s0",
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba8db3e5_0a4174c3",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T22:58:28Z",
      "side": 1,
      "message": "sure I can do that.",
      "parentUuid": "3f224442_36aa766b",
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2754d291_2dbd40c5",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:05:18Z",
      "side": 1,
      "message": "You mean \n    /bin/(.*)?\n\n? I am not sure what the /bin directory itself should be labeled with.",
      "parentUuid": "ba8db3e5_0a4174c3",
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaab54b7_ff5f9e75",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:13:09Z",
      "side": 1,
      "message": "Looks like the /bin directory itself should be system_file, otherwise I need to add a rule to resolve this:\n\n    08-10 23:07:31.540  8947  8947 W apexd   : type\u003d1400 audit(0.0:104): avc: denied { search } for name\u003d\"bin\" dev\u003d\"dm-9\" ino\u003d12 scontext\u003du:r:apexd:s0 tcontext\u003du:object_r:gki_apex_prepostinstall_exec:s0 tclass\u003ddir permissive\u003d0",
      "parentUuid": "2754d291_2dbd40c5",
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9828a26_90880178",
        "filename": "apex/com.android.gki-file_contexts",
        "patchSetId": 5
      },
      "lineNbr": 5,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:14:19Z",
      "side": 1,
      "message": "Also, since I am .* , should I just name this gki_apex_exec?",
      "parentUuid": "eaab54b7_ff5f9e75",
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "525fb059_3dcef7e1",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-08-10T21:15:24Z",
      "side": 1,
      "message": "Is this really necessary? Or is it just a bug of apexd not opening /dev/zero with O_CLOEXEC?",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 38
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50b3990c_db19e629",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T22:58:28Z",
      "side": 1,
      "message": "I copied this from the test script. Now that I look at it, it is probably not necessary. Let me delete this line and see what\u0027s going on.",
      "parentUuid": "525fb059_3dcef7e1",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 38
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a4bea78_c024356c",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:13:09Z",
      "side": 1,
      "message": "removed.",
      "parentUuid": "50b3990c_db19e629",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 38
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "add48e95_b390515e",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-08-10T21:15:24Z",
      "side": 1,
      "message": "is gki_apex_prepostinstall a shell script?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 15,
        "endChar": 62
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6613acfe_92da2e39",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T22:58:28Z",
      "side": 1,
      "message": "Yes.\n\nhttps://android-review.googlesource.com/c/platform/system/extras/+/1375334/14/gki/preinstall.sh\n\nthe preinstall script is a shell script, which executes a update_engine_stable_client C++ binary.",
      "parentUuid": "add48e95_b390515e",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 15,
        "endChar": 62
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "097a1d98_a6cb4a88",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:13:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6613acfe_92da2e39",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 15,
        "endChar": 62
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87cc8f08_cd9314d0",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-08-10T21:15:24Z",
      "side": 1,
      "message": "why?",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 54
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7e996e5_8a67748e",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T22:58:28Z",
      "side": 1,
      "message": "This is not necessary and I\u0027ll delete it in the next PS.",
      "parentUuid": "87cc8f08_cd9314d0",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 54
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93a843ae_b3a8c3a2",
        "filename": "private/gki_apex_prepostinstall.te",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-08-10T23:13:09Z",
      "side": 1,
      "message": "removed.",
      "parentUuid": "b7e996e5_8a67748e",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 54
      },
      "revId": "38f901549dafc70424b288e62f8832b7ef3f1e91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}