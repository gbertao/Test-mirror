{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5890a1af_f5349501",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2023-04-10T19:39:32Z",
      "side": 1,
      "message": "Hi Tri, Jiyong, one question for you: is it possible to make the `persist.graphics.egl` writable by developer options but not `adb shell setprop`?",
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad13e0df_6726a708",
        "filename": "private/compat/33.0/33.0.ignore.cil",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2023-04-11T00:51:20Z",
      "side": 1,
      "message": "You only need to touch this file. 32 and below don\u0027t have to be touched.",
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55048583_66c92ebd",
        "filename": "private/compat/33.0/33.0.ignore.cil",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1941946
      },
      "writtenOn": "2023-04-11T02:14:19Z",
      "side": 1,
      "message": "Thank you Jiyong. I have removed changes from the other ignore files.",
      "parentUuid": "ad13e0df_6726a708",
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b070ade_de20d780",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2023-04-11T00:51:20Z",
      "side": 1,
      "message": "can this be narrowed down further? system_app still covers a lot of apps and I don\u0027t think they all need this ability to set the prop.",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0115d1d_5217d315",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2023-04-11T08:25:09Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "2b070ade_de20d780",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1a73a9d_e6bd30ac",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2023-04-11T16:05:12Z",
      "side": 1,
      "message": "We need to allow the Settings UI to modify it in developer options. Do you have a recommendation?",
      "parentUuid": "b0115d1d_5217d315",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d47f6049_85d16ca7",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2023-04-12T01:15:22Z",
      "side": 1,
      "message": "Unfortunately, system_app is shared with the Settings app and a few more. Ideally, the Settings app should have it\u0027s own selinux domain but that\u0027s a much bigger issue that is outside the scope of this CL.\n\nMy question then is why does this have to be set by the settings app. AFAIK, it has its own persistent database (the provider) where settings are stored and it also provides APIs to retrieve the values. Why can\u0027t we use that database?",
      "parentUuid": "a1a73a9d_e6bd30ac",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3a6c911_2c14a27e",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1941946
      },
      "writtenOn": "2023-04-12T01:20:50Z",
      "side": 1,
      "message": "Thank you Jiyong.\n\nCould you please point me to docs or code examples of persistent database you are referring to?",
      "parentUuid": "d47f6049_85d16ca7",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8bcd745_fc8abf04",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2023-04-12T01:27:29Z",
      "side": 1,
      "message": "https://developer.android.com/reference/android/provider/Settings\n\nThe Settings provider contains global system-level device preferences.\n\n... and I think this config belongs to the \"system-level device preference\".",
      "parentUuid": "c3a6c911_2c14a27e",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f43b5580_e75fe3d5",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2023-04-12T01:50:28Z",
      "side": 1,
      "message": "Jiyong, what you pointed to is a public API. The value of `persist.graphics.egl` will control which GLES drivers to load by the graphics driver loader, the graphics drivers are loaded into application processes and hence we must be careful about which component can modify the value of it.\n\nThe reason why we would want Settings UI to access this property is that we will be developing a developer option UI toggle to switch which graphics drivers to load.\n\nWe have a design doc here: https://docs.google.com/document/d/1B6_54-gljXAVXWwYWQuGn3yLBuY_-SQRQghwOfUMv2o/edit#heading\u003dh.xncl2kne560g",
      "parentUuid": "a8bcd745_fc8abf04",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ffa4c16_2be7daca",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2023-04-12T09:35:39Z",
      "side": 1,
      "message": "I don\u0027t have access to the doc.\n\n\u003e hence we must be careful about which component can modify the value of it.\n\nThe traditional way to handle that would be via a system API guarded by an appropriate permission.\n\nSee https://docs.google.com/document/d/13ZhvoZKJDLPgm6MctAmQZWEC7Mewd-QGOsGBUiCQ2Gs/edit#heading\u003dh.4hojydi58s9c",
      "parentUuid": "f43b5580_e75fe3d5",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0940f8ec_a034c346",
        "filename": "private/system_app.te",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2023-04-12T17:23:12Z",
      "side": 1,
      "message": "We have granted access.\n\nI guess we can make a private API and the system server modify this property and then remove system_app. Yuxin, could you please try?",
      "parentUuid": "1ffa4c16_2be7daca",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 19
      },
      "revId": "74297f7c607adb7404392d0c18146705642a3770",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}