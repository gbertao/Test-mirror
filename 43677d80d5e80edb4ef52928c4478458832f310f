{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5dd6b044_d4a2c5f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2022-09-26T17:35:55Z",
      "side": 1,
      "message": "Build failure - there was a recent change for requiring fuzzers for new services.\nhttps://groups.google.com/a/google.com/g/android-idl-discuss/c/n7yjoWB-pAg\n\n```\nerror: Service \u0027android.hardware.tv.cec.IHdmiCec/default\u0027 is being added, but we have no fuzzer on file for it. Fuzzers are listed at $ANDROID_BUILD_TOP/system/sepolicy/build/soong/service_fuzzer_bindings.go \n\nNOTE: automatic service fuzzers are currently not supported in Java (b/232439254) and Rust (b/164122727). In this case, please ignore this for now. \n\nIf you are writing a new service, it may be subject to attack from other potentially malicious processes. A fuzzer can be written automatically by adding these things: \n- a cc_fuzz Android.bp entry \n- a main file that constructs your service and calls \u0027fuzzService\u0027 \n\nAn examples can be found here: \n- $ANDROID_BUILD_TOP/hardware/interfaces/vibrator/aidl/default/fuzzer.cpp \n- https://source.android.com/docs/core/architecture/aidl/aidl-fuzzing \n\nThis is only ~30 lines of configuration. It requires dependency injection for your service which is a good practice, and (in AOSP) you will get bugs automatically filed on you. You will find out about issues without needing to backport changes years later, and the system will automatically find ways to reproduce difficult to solve issues for you. \n\n- Android Fuzzing and Security teams\n```\nThe new \u0027android.hardware.tv.cec.IHdmiCec/default\u0027 service needs an entry in $ANDROID_BUILD_TOP/system/sepolicy/build/soong/service_fuzzer_bindings.go\n\nSome of the documentation is still being worked on I think, and you can reach out to waghpawan@ if you have any specific questions.",
      "revId": "43677d80d5e80edb4ef52928c4478458832f310f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3c078e6_77d78a8a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2022-09-26T17:38:31Z",
      "side": 1,
      "message": "I think this is all that\u0027s needed right now to get around the build error:\n\u003e The new \u0027android.hardware.tv.cec.IHdmiCec/default\u0027 service needs an entry in $ANDROID_BUILD_TOP/system/sepolicy/build/soong/service_fuzzer_bindings.go",
      "parentUuid": "5dd6b044_d4a2c5f2",
      "revId": "43677d80d5e80edb4ef52928c4478458832f310f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02b37d9f_8c3dde34",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1068291
      },
      "writtenOn": "2022-09-26T17:59:48Z",
      "side": 1,
      "message": "Thanks for this! I had added the fuzzer.cpp as advised in the message, so I have retained that as well in the patch along with the service_fuzzer_bindings.go change.",
      "parentUuid": "e3c078e6_77d78a8a",
      "revId": "43677d80d5e80edb4ef52928c4478458832f310f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}