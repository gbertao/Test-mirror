{
  "comments": [
    {
      "key": {
        "uuid": "81227590_03897b89",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2020-09-18T07:25:28Z",
      "side": 1,
      "message": "This change is odd. If ueventd actually needed to access these firmware files it would need the r_file_perms permission as well. Is this change really necessary? If you were to instead dontaudit it, what would be the consequences?",
      "revId": "68c1986c21bfe29cbc81318ae268b57971017ddc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17bb6c84_9afc090b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-09-18T07:31:28Z",
      "side": 1,
      "message": "Well, before this topic, ueventd was reading the firmware file with the absolute path like /apex/com.android.foo/firmware/foo.bin, which was labeled as \"vendor_file\" and it was okay for uevend to open it.\n\nBut now, ueventd tries to glob(/apex/*/firmware/) to list all \"firmware\" directories. It fails without \"read\" permission.\n\n\u003e If you were to instead dontaudit it, what would be the consequences?\n\nI don\u0027t know how to do this.",
      "parentUuid": "81227590_03897b89",
      "revId": "68c1986c21bfe29cbc81318ae268b57971017ddc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b88a3f1f_f3e5d4d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-09-18T07:34:03Z",
      "side": 1,
      "message": "Do you mean that I test with the following line instead of \"allow\"?\n\n  dontaudit ueventd postinstall_mnt_dir:dir getattr;",
      "parentUuid": "17bb6c84_9afc090b",
      "revId": "68c1986c21bfe29cbc81318ae268b57971017ddc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6a539c9_f38aeadd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-09-18T07:47:05Z",
      "side": 1,
      "message": "\u003e If you were to instead dontaudit it, what would be the consequences?\n\nI tested with \"dontaudit\" like following, and it failed to load the firmware.\n\n  dontaudit ueventd apex_mnt_dir:dir r_dir_perms;",
      "parentUuid": "b88a3f1f_f3e5d4d4",
      "revId": "68c1986c21bfe29cbc81318ae268b57971017ddc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}