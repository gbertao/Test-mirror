{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3e60abe8_8e79455c",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-05-22T21:04:16Z",
      "side": 1,
      "message": "is it okay to allow vendor_init to set all the other ota_prop which already exist?",
      "range": {
        "startLine": 269,
        "startChar": 0,
        "endLine": 269,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61af4538_e51d178e",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-05-22T22:00:23Z",
      "side": 1,
      "message": "There\u0027s only 3 OTA props before this CL.\n\n1. `ro.product.ab_ota_partitions` init will initialize this prop to value specified in build.prop, but since this prop is not on /vendor partition, init does not need special permission to write it.\n2. `ota.warm_reset` not initialized by init because this prop isn\u0027t specified in any build.prop\n3. `ota.other.vbmeta_digest` same as number 2\n\nThe purpose of `set_prop` here is to allow vendor_init to initialize these props with a value specified in build.prop, it is not intended for init to modify these props later in the process. In fact, all `ro.*` props are not writable after being initialized.\n\nSee code here https://cs.android.com/android/platform/superproject/+/refs/heads/master:system/core/init/property_service.cpp;l\u003d783;drc\u003d7346c436e5a11ce08f6a80dcfeb8ef941ca30176;bpv\u003d1;bpt\u003d1",
      "parentUuid": "3e60abe8_8e79455c",
      "range": {
        "startLine": 269,
        "startChar": 0,
        "endLine": 269,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bed8c178_3a2537f8",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-05-23T00:16:55Z",
      "side": 1,
      "message": "My question is more like, if a vendor build.prop did specify these values, would they override runtime things from setting them? For instance, if it\u0027s important that a system component can set ro.product.ab_ota_partitions, it could be problematic to give vendor_init the permission to set this. We don\u0027t expect build.prop to have it, but if it does, it could cause this issue. I think the change is probably fine, but I\u0027m not familiar with the properties.",
      "parentUuid": "61af4538_e51d178e",
      "range": {
        "startLine": 269,
        "startChar": 0,
        "endLine": 269,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2269317e_598e06cf",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-05-23T05:43:46Z",
      "side": 1,
      "message": "`ro.product.ab_ota_partitions` is never intended to be set by system component(other than init must initialize it). Same is true for any `ro.*` props.",
      "parentUuid": "bed8c178_3a2537f8",
      "range": {
        "startLine": 269,
        "startChar": 0,
        "endLine": 269,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b97dafde_4fcdf504",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-05-24T17:23:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2269317e_598e06cf",
      "range": {
        "startLine": 269,
        "startChar": 0,
        "endLine": 269,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75969c00_82a41f57",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-05-23T00:16:55Z",
      "side": 1,
      "message": "nit: we should be able to remove this now",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e42287e_39f0d9b7",
        "filename": "public/vendor_init.te",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-05-23T05:43:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75969c00_82a41f57",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 31
      },
      "revId": "3fb7a9090f3285ee3d2b45226ea8ab38a2b16bb2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}