{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0acc06d0_1115cec2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2022-10-17T08:43:54Z",
      "side": 1,
      "message": "Why?\n\nIn general, we\u0027re only able to test VTS-type tests on userdebug builds. Why should this particular test be different?",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 49
      },
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "069bc407_655873ed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-10-20T20:26:22Z",
      "side": 1,
      "message": "This isn\u0027t related to VTS testing, this is done in order to allow OEMs to extract the RKP keys from the device in the factory. The HAL was made generic enough so that the same call to provision keys on a production device in the wild would be the same call used to extract the public key off of the device.\n\nOur original assumption, which turned out to be wrong, was that all OEMs would use factory images with SELinux turned off during device provisioning. Since this is not the case, we need to allow shell to access this particular service in order to facilitate this provisioning step in the factory.",
      "parentUuid": "0acc06d0_1115cec2",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 49
      },
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adb3ed90_3b048b6a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-11-02T23:34:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "069bc407_655873ed",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 49
      },
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35c38915_d50f03ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2022-10-17T08:43:54Z",
      "side": 1,
      "message": "Bug?",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ebefa451_fb52b151",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-10-20T20:26:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "35c38915_d50f03ff",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e7dee6c_33e37855",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1561651
      },
      "writtenOn": "2022-10-17T03:09:36Z",
      "side": 1,
      "message": "`binder_call(shell, hal_keymint)` would be preferable. It only grants the ability to share file descriptors on top of the regular call.",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4594aade_f422554d",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1561651
      },
      "writtenOn": "2022-10-17T03:09:36Z",
      "side": 1,
      "message": "Could this be added to the private/ directory instead? Thanks",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5660bc29_efa4cfb1",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-10-20T20:26:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e7dee6c_33e37855",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "242d1572_547d794b",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-10-20T20:26:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4594aade_f422554d",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58f9d11c_5f7d80b3",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1833664
      },
      "writtenOn": "2022-10-24T16:09:42Z",
      "side": 1,
      "message": "AFAICT, `binder_call` is actually _more_ privileges than we need.\n\nShell really only needs to be able to make binder calls. We don\u0027t need to be able to transfer fds or binders. In fact, I think it\u0027s preferable that we do not allow binders to be transferred because that would explicitly prevent any keymint key operations from being performed.\n\nIs there some underlying reason that we want `binder_call` that I don\u0027t understand?",
      "parentUuid": "5660bc29_efa4cfb1",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3e0972e_d253fae4",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1561651
      },
      "writtenOn": "2022-10-25T08:09:32Z",
      "side": 1,
      "message": "(We chatted offline on this comment). The main reason is for consistency with the rest of the policy. But yes, if we wanted to be more precise for that specific component, it is possible. Although, it seems that the transfer permission is still required for the provisioning.",
      "parentUuid": "58f9d11c_5f7d80b3",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bd73d04_7130b863",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1561651
      },
      "writtenOn": "2022-10-17T03:09:36Z",
      "side": 1,
      "message": "The issue is that any service provided by keymint will then be usable. I think this includes hal_secureclock_service and hal_sharedsecret_service which are defined in system/sepolicy/vendor/hal_keymint_default.te.",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0447ab52_3c82ba14",
        "filename": "public/shell.te",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1115498
      },
      "writtenOn": "2022-10-20T20:26:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3bd73d04_7130b863",
      "revId": "b521b961a02da67ba376add81f4a598fa4c8c3cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}