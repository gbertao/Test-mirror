{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "76c99d55_5ac2dad5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2021-09-30T20:24:05Z",
      "side": 1,
      "message": "I\u0027m not sure that I understand what you\u0027re trying to accomplish. What are the alternatives considered? Can vold instead just be allowed to send a sigkill when this times out?",
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd4c57f6_b87fcebd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-09-30T20:26:46Z",
      "side": 1,
      "message": "I don\u0027t remember the full context, but I believe he already implemented a solution that manually tracks the timeout in the calling C++ code and then kills it, as you suggested.  But I think that was more complex than he was hoping, so he was wondering if this would work.",
      "parentUuid": "76c99d55_5ac2dad5",
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5ed384c_a960e6e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1045980
      },
      "writtenOn": "2021-10-01T21:17:53Z",
      "side": 1,
      "message": "Yeah. Currently I have a 3 fork solution. One fork to get away from any other vold children, one fork to do the exec, one fork to run the timer, then waiting for whichever finishes first and sigkilling the other.",
      "parentUuid": "cd4c57f6_b87fcebd",
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "123c7892_d53cf477",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-09-22T01:05:06Z",
      "side": 1,
      "message": "What permission(s) do you want here?",
      "range": {
        "startLine": 27,
        "startChar": 39,
        "endLine": 27,
        "endChar": 40
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac9fed95_5bd982a1",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1045980
      },
      "writtenOn": "2021-09-22T01:08:48Z",
      "side": 1,
      "message": "Oops, that had been entrypoint, I just failed to remove the line when moving it :/",
      "parentUuid": "123c7892_d53cf477",
      "range": {
        "startLine": 27,
        "startChar": 39,
        "endLine": 27,
        "endChar": 40
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "048a2110_fe5bc9af",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1045980
      },
      "writtenOn": "2021-09-22T00:38:47Z",
      "side": 1,
      "message": "Possibly domain_trans(vold, toolbox_exec fsck_untrusted);?\nNot sure if we can limit it to timeout.",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 30,
        "endChar": 79
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c08e4d1_89b8a0a5",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-09-22T01:05:06Z",
      "side": 1,
      "message": "This is my main worry with this approach, since timeout presumably has the same label as all the others....",
      "parentUuid": "048a2110_fe5bc9af",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 30,
        "endChar": 79
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a0c0958_50d50a99",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1045980
      },
      "writtenOn": "2021-09-22T01:08:48Z",
      "side": 1,
      "message": "Yeah. I was immediately sad when I had realized that before. How doable is breaking out parts of toybox? We access them through different routes, even though they do redirect to the same executable eventually.",
      "parentUuid": "4c08e4d1_89b8a0a5",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 30,
        "endChar": 79
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac6a3418_e66da228",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-09-22T15:57:50Z",
      "side": 1,
      "message": "Jeff probably knows the historical context behind this better than I do.",
      "parentUuid": "6a0c0958_50d50a99",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 30,
        "endChar": 79
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "571d5387_bd10bf29",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-09-22T01:05:06Z",
      "side": 1,
      "message": "This seems dangerous...",
      "range": {
        "startLine": 53,
        "startChar": 57,
        "endLine": 53,
        "endChar": 70
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74e230fd_03761daf",
        "filename": "public/fsck_untrusted.te",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1045980
      },
      "writtenOn": "2021-09-22T01:08:48Z",
      "side": 1,
      "message": "Ideally it would be limited to timeout, but I dunno if we can with toybox stuff.",
      "parentUuid": "571d5387_bd10bf29",
      "range": {
        "startLine": 53,
        "startChar": 57,
        "endLine": 53,
        "endChar": 70
      },
      "revId": "0eee3906df429fcd25ec96dd3e4f70aefc512597",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}