{
  "comments": [
    {
      "key": {
        "uuid": "528e2bc1_2ebb45ac",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-18T10:35:42Z",
      "side": 1,
      "message": "This is copied from existing device-specific settings.\n\nhttps://cs.corp.google.com/search/?q\u003dsystem_block_device+p:Android+f:file_contexts\u0026type\u003dcs",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 545,
        "endChar": 71
      },
      "revId": "cb956dddd3880d278bb9c3179b09ef8c9e4ac95d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55c98e75_6df2138e",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 1124693
      },
      "writtenOn": "2018-05-18T18:23:30Z",
      "side": 1,
      "message": "Is this an appropriate usage of system_block_device label? From this comment it seems like this label is just for system.img https://android.googlesource.com/platform/system/sepolicy/+/master/public/device.te#82\n\nAlso, if these are symlinks, you could use the default label.\nAll domains should already have access to symlinks in /dev.\nhttps://android.googlesource.com/platform/system/sepolicy/+/master/public/domain.te#60",
      "parentUuid": "528e2bc1_2ebb45ac",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 545,
        "endChar": 71
      },
      "revId": "cb956dddd3880d278bb9c3179b09ef8c9e4ac95d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70cfa1e4_f1944749",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2018-05-18T20:01:55Z",
      "side": 1,
      "message": "/dev has a unique property in that labeling a symlink also labels the backing file. The reason why this is possible is because /dev is guaranteed to not have symlink loops.\n\nAll that to say, there is value in doing this since it means you no longer have to provide device-specific labels.",
      "parentUuid": "55c98e75_6df2138e",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 545,
        "endChar": 71
      },
      "revId": "cb956dddd3880d278bb9c3179b09ef8c9e4ac95d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ecfd178_93e593aa",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2018-05-18T20:08:27Z",
      "side": 1,
      "message": "I have the same concern as Tri about system_block_device. However, I\u0027m not convinced that there is any value in providing separate labels since very few processes should ever access the raw block partitions and any process that does need raw access likely needs access to them all for OTAs. If these block devices have separate security properties, then it makes sense to give them separate labels. Otherwise, they can stay the same, uless there\u0027s a Treble reason to give them separate labels.",
      "parentUuid": "70cfa1e4_f1944749",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 545,
        "endChar": 71
      },
      "revId": "cb956dddd3880d278bb9c3179b09ef8c9e4ac95d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2eb0f82a_8240ee22",
        "filename": "private/file_contexts",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-18T23:53:27Z",
      "side": 1,
      "message": "OK, understood.\nLet me drop this for now, as this seems not related to my current change.\n\nIIUC, for \u0027read\u0027 access, there is no need to set separate labels (the default value is good).\nFor \u0027write\u0027 (only update_engine and recovery needs this), we should still label those blk devices in the device-specific sepolicy (BOARD_SEPOLICY_DIRS). Is it correct?\n\nhttps://android.googlesource.com/platform/system/sepolicy/+/master/public/domain.te#594\nhttps://android.googlesource.com/platform/system/sepolicy/+/master/public/update_engine_common.te#7\nhttps://android.googlesource.com/device/google/wahoo/+/master/sepolicy/vendor/file_contexts#100",
      "parentUuid": "0ecfd178_93e593aa",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 545,
        "endChar": 71
      },
      "revId": "cb956dddd3880d278bb9c3179b09ef8c9e4ac95d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}