{
  "comments": [
    {
      "key": {
        "uuid": "789312ca_73b0791b",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-03-10T00:18:48Z",
      "side": 1,
      "message": "This needs to be wrapped into userdebug_or_eng (see above for an example), to avoid granting this access on user builds.",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bf92445_51299208",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-03-10T00:19:47Z",
      "side": 1,
      "message": "Also, if this is only needed on userdebug/eng builds, why not have dumpsys run as root instead of as shell, thus removing the need for this change entirely.",
      "parentUuid": "789312ca_73b0791b",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "766feb04_9caa955c",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2017-03-10T00:23:54Z",
      "side": 1,
      "message": "OK. Just to confirm -- we don\u0027t do dumpsys on user builds? Even when a bugreport is taken?",
      "parentUuid": "789312ca_73b0791b",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eecf4317_0e4c2bc0",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2017-03-10T00:23:54Z",
      "side": 1,
      "message": "That\u0027s not a question to me. Do you know to whom can it be addressed?\n\nMy aim here is to make sure that we get bugreports with full information, and audit2allow suggested these changes in response to avc denial messages. If there is a more generic way to solve this problem, I\u0027m all for it.",
      "parentUuid": "2bf92445_51299208",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edb3c36a_e2266a81",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-03-10T00:27:52Z",
      "side": 1,
      "message": "I see. I got confused by the commit message which mentioned userdebug explicitly. Is this feature needed also on user builds?",
      "parentUuid": "766feb04_9caa955c",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "864b9bee_d458e8e1",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2017-03-10T00:35:17Z",
      "side": 1,
      "message": "Sorry, I was unclear here. What I meant in the commit message is that the issue with denials didn\u0027t happen on -eng builds, but happens on -userdebug builds.\n\nI\u0027ve just confirmed that a full bugreport from a \u0027user\u0027 build contains dumpsys dumps, so we need these rules on all types of builds (unless it is possible to fix this issue in some other way).",
      "parentUuid": "edb3c36a_e2266a81",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98583cf6_b5ba556e",
        "filename": "public/hal_audio.te",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1018773
      },
      "writtenOn": "2017-03-10T00:40:12Z",
      "side": 1,
      "message": "Makes sense. On eng build ADB shell by default runs as root (can be changed to shell using \"adb unroot\"), whereas on userdebug it runs as shell by default (can be changed to root by \"adb root\").",
      "parentUuid": "864b9bee_d458e8e1",
      "revId": "d7c88ddf5adc109d61441d281e5387297f25624a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}