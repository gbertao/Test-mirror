{
  "comments": [
    {
      "key": {
        "uuid": "f686367a_184b8c5e",
        "filename": "public/fastbootd.te",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2018-09-05T02:15:55Z",
      "side": 1,
      "message": "this should only be w_file_perms, no? Is the read functionality actually used? Can we open the FD with O_WRONLY?",
      "range": {
        "startLine": 48,
        "startChar": 49,
        "endLine": 48,
        "endChar": 50
      },
      "revId": "399ac4057b209575f08eeec684eb3754707131af",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fa03a3c_d37f86f9",
        "filename": "public/fastbootd.te",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1108565
      },
      "writtenOn": "2018-09-05T03:08:34Z",
      "side": 1,
      "message": "+1, if its only calling wipe_block_device() as in https://cs.corp.google.com/android/system/core/fastboot/device/commands.cpp?rcl\u003d324529889498e71abb5fc8c6acfb8c6361db8e67\u0026l\u003d128, then I guess O_WRONLY is what is used and w_file_perms should suffice.\n\nIt is not clear to me however if userdata formatting with ext4 / f2fs will need the rw_file_perms yet. hridya@?",
      "parentUuid": "f686367a_184b8c5e",
      "range": {
        "startLine": 48,
        "startChar": 49,
        "endLine": 48,
        "endChar": 50
      },
      "revId": "399ac4057b209575f08eeec684eb3754707131af",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "953da1d7_b8bf04d8",
        "filename": "public/fastbootd.te",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1120612
      },
      "writtenOn": "2018-09-05T20:16:27Z",
      "side": 1,
      "message": "This was actually due to https://cs.corp.google.com/android/system/core/fastboot/device/utility.cpp?l\u003d83\nI have pushed aosp/748168 to change this to just write access.\nWe will however need ioctl and getattr permission for wipe_block_device() and get_block_device_size() which are needed for wiping userdata.",
      "parentUuid": "7fa03a3c_d37f86f9",
      "range": {
        "startLine": 48,
        "startChar": 49,
        "endLine": 48,
        "endChar": 50
      },
      "revId": "399ac4057b209575f08eeec684eb3754707131af",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}