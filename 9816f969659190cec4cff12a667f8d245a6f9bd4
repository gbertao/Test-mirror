{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0c77f0a8_8e086e56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2021-03-18T21:34:35Z",
      "side": 1,
      "message": "-1 until we sort out whether there is an update needed to preserve SuspendControlService\u0027s access to the same property",
      "revId": "9816f969659190cec4cff12a667f8d245a6f9bd4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf68fc29_9f2492c4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1295801
      },
      "writtenOn": "2021-03-19T01:51:47Z",
      "side": 1,
      "message": "Presubmit fail looks like cause by the change\nChecking in process\n\nThere are untracked SELinux denials on boot:\ngo/how-to-track-an-selinux-denial\n04-27 21:11:46.736   730   730 I auditd  : type\u003d1400 audit(0.0:4): avc: denied { read } for comm\u003d\"android.system.\" name\u003d\"u:object_r:exported_suspend_prop:s0\" dev\u003d\"tmpfs\" ino\u003d13068 scontext\u003du:r:system_suspend:s0 tcontext\u003du:object_r:exported_suspend_prop:s0 tclass\u003dfile permissive\u003d0\n04-27 21:11:46.736   730   730 I auditd  : type\u003d1400 audit(0.0:4): avc: denied { read } for comm\u003d\"android.system.\" name\u003d\"u:object_r:exported_suspend_prop:s0\" dev\u003d\"tmpfs\" ino\u003d13068 scontext\u003du:r:system_suspend:s0 tcontext\u003du:object_r:exported_suspend_prop:s0 tclass\u003dfile permissive\u003d0",
      "revId": "9816f969659190cec4cff12a667f8d245a6f9bd4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96b6d2a7_35b882a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2021-03-19T02:14:31Z",
      "side": 1,
      "message": "If you look at the file I mentioned in my comment (private/system_suspend.te from aosp/1482416), I think all you need to do is add exported_suspend_prop for access by system_suspend",
      "parentUuid": "bf68fc29_9f2492c4",
      "revId": "9816f969659190cec4cff12a667f8d245a6f9bd4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e40b7150_8897982b",
        "filename": "private/property_contexts",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2021-03-18T21:33:56Z",
      "side": 1,
      "message": "Is this going to break SuspendControlService\u0027s ability to read the property?  See aosp/1482416 (in particular, private/system_suspend.te) for the CL where SCS sepolicy was added so it can access this.",
      "range": {
        "startLine": 104,
        "startChar": 39,
        "endLine": 104,
        "endChar": 74
      },
      "revId": "9816f969659190cec4cff12a667f8d245a6f9bd4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "279af9c3_4093af9e",
        "filename": "private/property_contexts",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1859295
      },
      "writtenOn": "2021-03-19T06:29:09Z",
      "side": 1,
      "message": "From patchset 3, Denny\u0027s solution is to completely split out the short_suspend_threshold_millis property into exported_suspend_prop and give system_suspend with access to exported_suspend_prop.\n\nI\u0027m thinking about that we may keep suspend_prop access to all property items and create separate access to the short_suspend_threshold_millis property. The suspend_prop users may expect to get access to all suspend property items when they grant suspend_prop access for themselves.\n\ne.g.\n# Suspend service properties\n...\nsuspend.short_suspend_threshold_millis u:object_r:suspend_prop:s0 exact uint\n...\n\n# Exported(Exposed?) suspend service properties\nsuspend.short_suspend_threshold_millis u:object_r:exported_suspend_prop:s0 exact uint",
      "parentUuid": "e40b7150_8897982b",
      "range": {
        "startLine": 104,
        "startChar": 39,
        "endLine": 104,
        "endChar": 74
      },
      "revId": "9816f969659190cec4cff12a667f8d245a6f9bd4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}