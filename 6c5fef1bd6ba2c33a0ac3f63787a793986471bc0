{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7cf57d2c_7f976621",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2020-12-01T08:43:04Z",
      "side": 1,
      "message": "Per Jeff V:\n\nwe should probably remove levelFrom\u003dall from https://android.googlesource.com/platform/system/sepolicy/+/refs/heads/master/private/seapp_contexts#148\n\nIt determines how those categories are applied\nWhich then determines what restrictions selinux enforces on the process\nIt\u0027s useful for things like 3p apps because it ensures that selinux is being used to sandbox apps from each other. So if you do a ps -AZ, you\u0027ll see multiple apps running as \"untrusted_app\". Since all the apps are running in the same context, the categories are used to separate them from each other.",
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "444fbb30_e4fb03ff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2020-12-01T08:43:34Z",
      "side": 1,
      "message": "and that indeed fixes the problem where \u0027read\u0027 permission would work, but \u0027write\u0027 permission would not.",
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd9cfe40_53237b89",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2020-12-01T08:46:07Z",
      "side": 1,
      "message": "[   43.350400] type\u003d1400 audit(1606809405.372:91): avc: denied { read } for comm\u003d54696D652D6C696D69746564207465 name\u003d\"map_offload_tether_ingress_map\" dev\u003d\"bpf\" ino\u003d12451 scontext\u003du:r:network_stack:s0:c49,c260,c512,c768 tcontext\u003du:object_r:fs_bpf:s0 tclass\u003dfile permissive\u003d0\n\nread is not constrained by the MLS rules\nhttps://cs.android.com/android/platform/superproject/+/master:system/sepolicy/private/mls;l\u003d80?q\u003dmls",
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c96be6d_0e48c591",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2020-12-01T08:49:47Z",
      "side": 1,
      "message": "(the actual crazy failure was wrt. \u0027write\u0027, the \u0027read\u0027 failure above is from tests with selinux not permitting read either, so really replace \u0027read\u0027 above with \u0027write\u0027 for the crazy errors)",
      "parentUuid": "cd9cfe40_53237b89",
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34c31119_97b7872a",
        "filename": "private/network_stack.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1060831
      },
      "writtenOn": "2020-12-01T09:47:16Z",
      "side": 1,
      "message": "Can you add \", mlstrustedsubject\" here?\nThat makes it explicit that this domain acts cross-user, and avoids the problem described below.",
      "range": {
        "startLine": 2,
        "startChar": 38,
        "endLine": 2,
        "endChar": 39
      },
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a8e8d55_5dfec5b8",
        "filename": "private/network_stack.te",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2020-12-02T00:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "34c31119_97b7872a",
      "range": {
        "startLine": 2,
        "startChar": 38,
        "endLine": 2,
        "endChar": 39
      },
      "revId": "6c5fef1bd6ba2c33a0ac3f63787a793986471bc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}